<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Overview - SysManage Architecture</title>
    <meta name="description" content="Comprehensive overview of SysManage system architecture, components, and data flow patterns.">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="../../assets/images/favicon.svg">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a href="../../">
                        <img src="../../assets/images/sysmanage-logo.svg" alt="SysManage" class="logo">
                    </a>
                </div>
                <div class="nav-menu">
                    <a href="../../#features" class="nav-link">Features</a>
                    <a href="../../#getting-started" class="nav-link">Getting Started</a>
                    <a href="../" class="nav-link active">Documentation</a>
                    <a href="https://github.com/bceverly/sysmanage" class="nav-link" target="_blank">GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../">Documentation</a> > <a href="./">Architecture</a> > <span>System Overview</span>
            </div>

            <div class="docs-header">
                <h1>System Overview</h1>
                <p>Comprehensive overview of SysManage system architecture, components, and data flow patterns.</p>
            </div>

            <div class="docs-content">
                <section class="overview">
                    <h2>Architecture Overview</h2>
                    <p>SysManage is built as a distributed system with a central server coordinating multiple lightweight agents across your infrastructure. The architecture emphasizes security, scalability, and reliability while maintaining simplicity for both deployment and operation.</p>

                    <div class="architecture-diagram">
                        <h3>High-Level Architecture</h3>
                        <pre class="ascii-diagram">
┌─────────────────────────────────────────────────────────────────┐
│                        SysManage Server                        │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌──────────────┐  ┌─────────────────────────┐ │
│  │ Web UI      │  │ REST API     │  │ WebSocket Gateway       │ │
│  │ (React)     │  │ (FastAPI)    │  │ (Real-time Updates)     │ │
│  └─────────────┘  └──────────────┘  └─────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌──────────────┐  ┌─────────────────────────┐ │
│  │ Auth/RBAC   │  │ Business     │  │ Task Queue              │ │
│  │ Service     │  │ Logic Layer  │  │ (Background Jobs)       │ │
│  └─────────────┘  └──────────────┘  └─────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌──────────────┐  ┌─────────────────────────┐ │
│  │ Data Access │  │ Message      │  │ Certificate             │ │
│  │ Layer       │  │ Queue        │  │ Management              │ │
│  └─────────────┘  └──────────────┘  └─────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                PostgreSQL Database                         │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                  │
                          mTLS Communication
                                  │
┌─────────────────────────────────────────────────────────────────┐
│                     SysManage Agents                           │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌──────────────┐  ┌─────────────────────────┐ │
│  │ Connection  │  │ Package      │  │ System Monitor          │ │
│  │ Manager     │  │ Manager      │  │ (Metrics Collection)    │ │
│  └─────────────┘  └──────────────┘  └─────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌──────────────┐  ┌─────────────────────────┐ │
│  │ Task        │  │ Security     │  │ Local SQLite DB         │ │
│  │ Executor    │  │ Manager      │  │ (State & Cache)         │ │
│  └─────────────┘  └──────────────┘  └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                        </pre>
                    </div>
                </section>

                <section class="core-components">
                    <h2>Core Components</h2>

                    <div class="component-grid">
                        <div class="component-card">
                            <h3>🖥️ SysManage Server</h3>
                            <p>The central coordination hub that manages all agents, processes requests, and maintains the global state of your infrastructure.</p>
                            <h4>Key Features:</h4>
                            <ul>
                                <li>RESTful API for all operations</li>
                                <li>Real-time WebSocket communication</li>
                                <li>Role-based access control (RBAC)</li>
                                <li>Asynchronous task processing</li>
                                <li>Certificate authority for agent authentication</li>
                            </ul>
                        </div>

                        <div class="component-card">
                            <h3>🤖 SysManage Agents</h3>
                            <p>Lightweight agents that run on managed hosts to collect information, execute tasks, and maintain communication with the server.</p>
                            <h4>Key Features:</h4>
                            <ul>
                                <li>Cross-platform support (Linux, Windows, macOS, BSD)</li>
                                <li>Secure mTLS communication</li>
                                <li>Package management integration</li>
                                <li>System metrics collection</li>
                                <li>Configurable privilege escalation</li>
                            </ul>
                        </div>

                        <div class="component-card">
                            <h3>🌐 Web Interface</h3>
                            <p>Modern React-based web application providing a comprehensive management interface for administrators and operators.</p>
                            <h4>Key Features:</h4>
                            <ul>
                                <li>Responsive design for desktop and mobile</li>
                                <li>Real-time updates via WebSocket</li>
                                <li>Interactive dashboards and charts</li>
                                <li>Bulk operations and filtering</li>
                                <li>Internationalization support</li>
                            </ul>
                        </div>

                        <div class="component-card">
                            <h3>🔌 REST API</h3>
                            <p>Comprehensive API built with FastAPI providing programmatic access to all SysManage functionality.</p>
                            <h4>Key Features:</h4>
                            <ul>
                                <li>OpenAPI 3.0 specification</li>
                                <li>JWT-based authentication</li>
                                <li>Rate limiting and throttling</li>
                                <li>Comprehensive error handling</li>
                                <li>Automated documentation</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="data-flow">
                    <h2>Data Flow Architecture</h2>

                    <h3>Agent-to-Server Communication</h3>
                    <div class="flow-diagram">
                        <pre class="ascii-diagram">
Agent                    Server                     Database
  │                        │                          │
  │ 1. mTLS Handshake     │                          │
  ├─────────────────────→ │                          │
  │                        │                          │
  │ 2. System Info        │ 3. Validate & Store     │
  ├─────────────────────→ ├────────────────────────→ │
  │                        │                          │
  │ 4. Package Inventory  │ 5. Update Database       │
  ├─────────────────────→ ├────────────────────────→ │
  │                        │                          │
  │ 6. Heartbeat/Status   │ 7. Log Activity          │
  ├─────────────────────→ ├────────────────────────→ │
  │                        │                          │
  │ ← 8. Commands/Tasks ← │ ← 9. Fetch Pending ← ← │
  │                        │                          │
  │ 10. Task Results →    │ 11. Update Status →     │
  ├─────────────────────→ ├────────────────────────→ │
                        </pre>
                    </div>

                    <h3>User Request Processing</h3>
                    <div class="flow-diagram">
                        <pre class="ascii-diagram">
Web UI/API              Server Layers               Agent
    │                       │                        │
    │ 1. User Request       │                        │
    ├─────────────────────→ │                        │
    │                       │                        │
    │                     ┌─┴─┐ 2. Authentication   │
    │                     │Auth│                     │
    │                     └─┬─┘                     │
    │                       │                        │
    │                     ┌─┴─┐ 3. Authorization    │
    │                     │RBAC│                     │
    │                     └─┬─┘                     │
    │                       │                        │
    │                     ┌─┴─┐ 4. Business Logic   │
    │                     │BLL│                     │
    │                     └─┬─┘                     │
    │                       │                        │
    │                     ┌─┴─┐ 5. Data Access      │
    │                     │DAL│                     │
    │                     └─┬─┘                     │
    │                       │                        │
    │                       │ 6. Queue Task         │
    │                       ├─────────────────────→ │
    │                       │                        │
    │ ← 7. Response ← ← ← │ 8. Async Execution    │
    │                       │                        │
    │ ← 9. Real-time ← ← ← │ ← 10. Results ← ← ← │
    │    Updates             │                        │
                        </pre>
                    </div>
                </section>

                <section class="security-architecture">
                    <h2>Security Architecture</h2>

                    <h3>Certificate-Based Authentication</h3>
                    <p>SysManage uses a robust mTLS (mutual TLS) authentication system:</p>
                    <ul>
                        <li><strong>Server Certificate Authority:</strong> Issues and manages agent certificates</li>
                        <li><strong>Agent Certificates:</strong> Unique certificates for each agent with automatic rotation</li>
                        <li><strong>Certificate Validation:</strong> Continuous validation of certificate status and revocation</li>
                        <li><strong>Secure Enrollment:</strong> Automated certificate enrollment with approval workflows</li>
                    </ul>

                    <h3>Network Security</h3>
                    <div class="security-layers">
                        <div class="security-layer">
                            <h4>Transport Layer</h4>
                            <ul>
                                <li>TLS 1.3 for all communications</li>
                                <li>Certificate pinning for enhanced security</li>
                                <li>Perfect Forward Secrecy (PFS)</li>
                            </ul>
                        </div>
                        <div class="security-layer">
                            <h4>Application Layer</h4>
                            <ul>
                                <li>JWT tokens for web authentication</li>
                                <li>API rate limiting and throttling</li>
                                <li>Request validation and sanitization</li>
                            </ul>
                        </div>
                        <div class="security-layer">
                            <h4>Data Layer</h4>
                            <ul>
                                <li>Encrypted database connections</li>
                                <li>Sensitive data encryption at rest</li>
                                <li>Audit logging for all operations</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="scalability">
                    <h2>Scalability Design</h2>

                    <h3>Horizontal Scaling</h3>
                    <p>SysManage is designed to scale horizontally across multiple dimensions:</p>

                    <h4>Server Scaling</h4>
                    <ul>
                        <li><strong>Stateless Design:</strong> Servers maintain no session state, enabling easy horizontal scaling</li>
                        <li><strong>Load Balancing:</strong> Support for standard load balancers with session affinity for WebSocket connections</li>
                        <li><strong>Database Clustering:</strong> PostgreSQL clustering support for high availability</li>
                        <li><strong>Shared Storage:</strong> Certificate and configuration storage can be shared across instances</li>
                    </ul>

                    <h4>Agent Scaling</h4>
                    <ul>
                        <li><strong>Lightweight Footprint:</strong> Minimal resource usage per agent</li>
                        <li><strong>Efficient Communication:</strong> Optimized protocols to minimize network overhead</li>
                        <li><strong>Connection Pooling:</strong> Intelligent connection management and pooling</li>
                        <li><strong>Regional Distribution:</strong> Support for geographically distributed deployments</li>
                    </ul>

                    <h3>Performance Characteristics</h3>
                    <div class="performance-metrics">
                        <div class="metric-item">
                            <h4>Agent Capacity</h4>
                            <p>Single server instance can manage:</p>
                            <ul>
                                <li><strong>Small:</strong> 100-500 agents</li>
                                <li><strong>Medium:</strong> 500-2,000 agents</li>
                                <li><strong>Large:</strong> 2,000-10,000 agents (with optimization)</li>
                            </ul>
                        </div>
                        <div class="metric-item">
                            <h4>Response Times</h4>
                            <ul>
                                <li><strong>API Responses:</strong> &lt; 100ms typical</li>
                                <li><strong>Agent Commands:</strong> &lt; 5s delivery</li>
                                <li><strong>Real-time Updates:</strong> &lt; 1s propagation</li>
                            </ul>
                        </div>
                        <div class="metric-item">
                            <h4>Resource Usage</h4>
                            <ul>
                                <li><strong>Server RAM:</strong> 2-8GB baseline</li>
                                <li><strong>Agent RAM:</strong> 10-50MB per agent</li>
                                <li><strong>Network:</strong> 1-10KB/s per agent</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="deployment-patterns">
                    <h2>Deployment Patterns</h2>

                    <h3>Single Instance Deployment</h3>
                    <div class="deployment-pattern">
                        <h4>Use Cases:</h4>
                        <ul>
                            <li>Small to medium environments (&lt; 500 hosts)</li>
                            <li>Development and testing</li>
                            <li>Single-location deployments</li>
                        </ul>
                        <h4>Architecture:</h4>
                        <pre class="ascii-diagram">
┌─────────────────────┐
│   Load Balancer     │ (Optional)
│   (Nginx/HAProxy)   │
└─────────┬───────────┘
          │
┌─────────┴───────────┐
│   SysManage Server  │
│   ┌─────────────┐   │
│   │ Application │   │
│   └─────────────┘   │
│   ┌─────────────┐   │
│   │ PostgreSQL  │   │
│   └─────────────┘   │
└─────────────────────┘
                        </pre>
                    </div>

                    <h3>High Availability Deployment</h3>
                    <div class="deployment-pattern">
                        <h4>Use Cases:</h4>
                        <ul>
                            <li>Production environments requiring 99.9%+ uptime</li>
                            <li>Large-scale deployments (&gt; 1000 hosts)</li>
                            <li>Business-critical infrastructure management</li>
                        </ul>
                        <h4>Architecture:</h4>
                        <pre class="ascii-diagram">
┌─────────────────────┐
│   Load Balancer     │
│   (Active/Passive)  │
└─────────┬───────────┘
          │
┌─────────┴───────────┬─────────────────────┐
│   SysManage #1      │   SysManage #2      │
│   ┌─────────────┐   │   ┌─────────────┐   │
│   │ Application │   │   │ Application │   │
│   └─────────────┘   │   └─────────────┘   │
└─────────┬───────────┴─────────┬───────────┘
          │                     │
┌─────────┴─────────────────────┴───────────┐
│        PostgreSQL Cluster                 │
│   ┌─────────┐   ┌─────────┐   ┌─────────┐ │
│   │Primary  │   │Replica 1│   │Replica 2│ │
│   └─────────┘   └─────────┘   └─────────┘ │
└───────────────────────────────────────────┘
                        </pre>
                    </div>

                    <h3>Multi-Region Deployment</h3>
                    <div class="deployment-pattern">
                        <h4>Use Cases:</h4>
                        <ul>
                            <li>Global organizations with distributed infrastructure</li>
                            <li>Compliance requirements for data locality</li>
                            <li>Disaster recovery across regions</li>
                        </ul>
                        <h4>Architecture:</h4>
                        <pre class="ascii-diagram">
Region 1 (Primary)           Region 2 (Secondary)
┌─────────────────────┐     ┌─────────────────────┐
│   SysManage Cluster│     │   SysManage Cluster│
│   ┌─────────────┐   │     │   ┌─────────────┐   │
│   │ Application │   │     │   │ Application │   │
│   └─────────────┘   │     │   └─────────────┘   │
│   ┌─────────────┐   │ ←──→│   ┌─────────────┐   │
│   │ PostgreSQL  │   │     │   │ PostgreSQL  │   │
│   └─────────────┘   │     │   └─────────────┘   │
└─────────────────────┘     └─────────────────────┘
         │                           │
         ▼                           ▼
┌─────────────────────┐     ┌─────────────────────┐
│   Regional Agents   │     │   Regional Agents   │
└─────────────────────┘     └─────────────────────┘
                        </pre>
                    </div>
                </section>

                <section class="technology-stack">
                    <h2>Technology Stack</h2>

                    <div class="tech-stack-grid">
                        <div class="tech-category">
                            <h3>Backend Technologies</h3>
                            <ul>
                                <li><strong>Python 3.11+:</strong> Core runtime environment</li>
                                <li><strong>FastAPI:</strong> Modern, fast web framework</li>
                                <li><strong>SQLAlchemy:</strong> ORM and database abstraction</li>
                                <li><strong>PostgreSQL:</strong> Primary database system</li>
                                <li><strong>Redis:</strong> Caching and session storage</li>
                                <li><strong>Celery:</strong> Distributed task queue</li>
                            </ul>
                        </div>

                        <div class="tech-category">
                            <h3>Frontend Technologies</h3>
                            <ul>
                                <li><strong>React 18:</strong> UI framework</li>
                                <li><strong>TypeScript:</strong> Type-safe JavaScript</li>
                                <li><strong>Vite:</strong> Build tool and development server</li>
                                <li><strong>React Query:</strong> Data fetching and state management</li>
                                <li><strong>Chakra UI:</strong> Component library</li>
                                <li><strong>Chart.js:</strong> Data visualization</li>
                            </ul>
                        </div>

                        <div class="tech-category">
                            <h3>Communication & Security</h3>
                            <ul>
                                <li><strong>WebSocket:</strong> Real-time communication</li>
                                <li><strong>mTLS:</strong> Mutual TLS authentication</li>
                                <li><strong>JWT:</strong> JSON Web Tokens for API auth</li>
                                <li><strong>OpenSSL:</strong> Cryptographic operations</li>
                                <li><strong>Protocol Buffers:</strong> Efficient serialization</li>
                            </ul>
                        </div>

                        <div class="tech-category">
                            <h3>DevOps & Deployment</h3>
                            <ul>
                                <li><strong>Docker:</strong> Containerization</li>
                                <li><strong>Kubernetes:</strong> Container orchestration</li>
                                <li><strong>Nginx:</strong> Reverse proxy and load balancing</li>
                                <li><strong>Prometheus:</strong> Metrics and monitoring</li>
                                <li><strong>Grafana:</strong> Observability dashboards</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="integration-points">
                    <h2>Integration Points</h2>

                    <h3>External System Integration</h3>
                    <div class="integration-grid">
                        <div class="integration-item">
                            <h4>Authentication Systems</h4>
                            <ul>
                                <li>LDAP/Active Directory</li>
                                <li>SAML 2.0 providers</li>
                                <li>OAuth 2.0/OpenID Connect</li>
                                <li>Multi-factor authentication</li>
                            </ul>
                        </div>

                        <div class="integration-item">
                            <h4>Monitoring & Alerting</h4>
                            <ul>
                                <li>Prometheus metrics export</li>
                                <li>Grafana dashboard integration</li>
                                <li>Email/SMS notifications</li>
                                <li>Webhook integrations</li>
                            </ul>
                        </div>

                        <div class="integration-item">
                            <h4>Automation & Orchestration</h4>
                            <ul>
                                <li>Ansible integration</li>
                                <li>Terraform providers</li>
                                <li>CI/CD pipeline hooks</li>
                                <li>Infrastructure as Code</li>
                            </ul>
                        </div>

                        <div class="integration-item">
                            <h4>Package Repositories</h4>
                            <ul>
                                <li>APT repositories (Debian/Ubuntu)</li>
                                <li>YUM/DNF repositories (RHEL/CentOS)</li>
                                <li>Homebrew (macOS)</li>
                                <li>Chocolatey (Windows)</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="next-steps">
                    <h2>Next Steps</h2>
                    <p>To dive deeper into specific architectural aspects:</p>
                    <ol>
                        <li><strong><a href="design-principles.html">Design Principles</a>:</strong> Understand the core design philosophy</li>
                        <li><strong><a href="database-schema.html">Database Schema</a>:</strong> Explore the data model</li>
                        <li><strong><a href="rest-api-design.html">REST API Design</a>:</strong> Learn about the API architecture</li>
                        <li><strong><a href="websocket-protocol.html">WebSocket Protocol</a>:</strong> Real-time communication details</li>
                        <li><strong><a href="scaling-strategies.html">Scaling Strategies</a>:</strong> Plan for growth and scale</li>
                    </ol>
                </section>
            </div>

            <div class="docs-footer">
                <div class="docs-navigation">
                    <h3>Navigation</h3>
                    <div class="nav-links">
                        <a href="./" class="nav-link">← Architecture Home</a>
                        <a href="design-principles.html" class="nav-link">Design Principles →</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 SysManage. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/i18n.js"></script>
</body>
</html>