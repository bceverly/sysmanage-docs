<!DOCTYPE html>
<html lang="en" data-i18n-title="server_installation.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="server_installation.title" data-i18n-html>Server Installation Guide - SysManage</title>
    <meta name="description" content="Complete installation guide for SysManage server including prerequisites, database setup, and configuration." data-i18n-attr="content" data-i18n="server_installation.description" data-i18n-html>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
</head>
<body data-auto-header="documentation" data-auto-footer>
    <!-- Header injected automatically by components.js -->

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="nav.documentation" data-i18n-html>Documentation</a> > <a href="./" data-i18n="server_docs.section_title" data-i18n-html>Server</a> > <span data-i18n="server_installation.breadcrumb_installation" data-i18n-html>Installation</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="server_installation.header.title" data-i18n-html>Server Installation Guide</h1>
                <p data-i18n="server_installation.header.subtitle" data-i18n-html>Complete step-by-step installation guide for setting up the SysManage server on your infrastructure.</p>
            </div>

            <div class="docs-content">
                <section class="docs-section">
                    <h2 data-i18n="server_installation.requirements.title" data-i18n-html>System Requirements</h2>
                    <div class="requirement-grid">
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.python.title" data-i18n-html>üêç Python</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.python.version" data-i18n-html>3.11 or 3.12</span></p>
                            <p><em data-i18n="server_installation.requirements.python.note" data-i18n-html>Note: Python 3.13 is NOT yet supported due to package compatibility issues</em></p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.nodejs.title" data-i18n-html>üü¢ Node.js</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.nodejs.version" data-i18n-html>20.x or higher</span></p>
                            <p data-i18n="server_installation.requirements.nodejs.description" data-i18n-html>For building the React frontend</p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.postgresql.title" data-i18n-html>üêò PostgreSQL</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.postgresql.version" data-i18n-html>14 or higher</span></p>
                            <p data-i18n="server_installation.requirements.postgresql.description" data-i18n-html>Primary database for all application data</p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.os.title" data-i18n-html>üíª Operating System</h3>
                            <p><strong data-i18n="server_installation.requirements.supported" data-i18n-html>Supported:</strong> <span data-i18n="server_installation.requirements.os.platforms" data-i18n-html>Linux, macOS, Windows, FreeBSD, OpenBSD, NetBSD</span></p>
                            <p data-i18n="server_installation.requirements.os.description" data-i18n-html>Cross-platform deployment</p>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.prerequisites.title" data-i18n-html>Platform-Specific Prerequisites</h2>

                    <div class="platform-tabs">
                        <div class="tab-header">
                            <button class="tab-button active" data-tab="ubuntu" data-i18n="server_installation.prerequisites.ubuntu_debian" data-i18n-html>Ubuntu/Debian</button>
                            <button class="tab-button" data-tab="ubuntu25" data-i18n="server_installation.prerequisites.ubuntu25.tab_title" data-i18n-html>Ubuntu 25.04+</button>
                            <button class="tab-button" data-tab="centos" data-i18n="server_installation.prerequisites.centos.tab_title" data-i18n-html>CentOS/RHEL</button>
                            <button class="tab-button" data-tab="macos" data-i18n="server_installation.prerequisites.macos.tab_title" data-i18n-html>macOS</button>
                            <button class="tab-button" data-tab="windows" data-i18n="server_installation.prerequisites.windows.tab_title" data-i18n-html>Windows</button>
                            <button class="tab-button" data-tab="freebsd" data-i18n="server_installation.prerequisites.freebsd.tab_title" data-i18n-html>FreeBSD</button>
                            <button class="tab-button" data-tab="openbsd" data-i18n="server_installation.prerequisites.openbsd.tab_title" data-i18n-html>OpenBSD</button>
                            <button class="tab-button" data-tab="netbsd" data-i18n="server_installation.prerequisites.netbsd.tab_title" data-i18n-html>NetBSD</button>
                            <button class="tab-button" data-tab="opensuse" data-i18n="server_installation.prerequisites.opensuse.tab_title" data-i18n-html>openSUSE</button>
                            <button class="tab-button" data-tab="sles" data-i18n="server_installation.prerequisites.sles.tab_title" data-i18n-html>SLES</button>
                        </div>

                        <div class="tab-content">
                            <div class="tab-pane active" id="ubuntu">
                                <h3 data-i18n="server_installation.prerequisites.ubuntu.title" data-i18n-html>Ubuntu 22.04 - 24.10 (Recommended)</h3>
                                <pre><code># Update package manager
sudo apt update

# Install Python 3.11 or 3.12 (AVOID 3.13)
sudo apt install python3.11 python3.11-venv python3.11-dev python3-pip

# For Python 3.12 (if available):
# sudo add-apt-repository ppa:deadsnakes/ppa
# sudo apt update
# sudo apt install python3.12 python3.12-venv python3.12-dev python3-pip

# Install Node.js 20.x
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# Install PostgreSQL 14+
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Install build tools and development libraries
sudo apt install build-essential libffi-dev libssl-dev libpq-dev
sudo apt install libuv1-dev python3-setuptools</code></pre>
                            </div>

                            <div class="tab-pane" id="ubuntu25">
                                <h3 data-i18n="server_installation.prerequisites.ubuntu25.title" data-i18n-html>Ubuntu 25.04+ (Python 3.12 from Source)</h3>
                                <p><strong data-i18n="server_installation.note" data-i18n-html>Note:</strong> <span data-i18n="server_installation.prerequisites.ubuntu25.note" data-i18n-html>Ubuntu 25.04+ only ships with Python 3.13, which is not yet compatible. You must build Python 3.12 from source:</span></p>

                                <pre><code># Install build dependencies
sudo apt install build-essential libssl-dev zlib1g-dev libbz2-dev \
    libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev \
    libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev \
    python3-openssl git libpq-dev libuv1-dev

# Download and build Python 3.12
cd /tmp
wget https://www.python.org/ftp/python/3.12.7/Python-3.12.7.tgz
tar -xf Python-3.12.7.tgz
cd Python-3.12.7

# Configure and build (takes 10-15 minutes)
./configure --enable-optimizations --with-ensurepip=install
make -j$(nproc)
sudo make altinstall

# Verify installation
python3.12 --version

# Install remaining packages
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql</code></pre>
                            </div>

                            <div class="tab-pane" id="centos">
                                <h3 data-i18n="server_installation.prerequisites.centos.title" data-i18n-html>CentOS/RHEL/Fedora</h3>
                                <pre><code># Install Python 3.12+
sudo dnf install python3 python3-devel python3-pip

# Install Node.js 20.x
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo dnf install -y nodejs

# Install PostgreSQL 14+
sudo dnf install postgresql postgresql-server postgresql-contrib
sudo postgresql-setup --initdb
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Install build tools and libraries
sudo dnf groupinstall "Development Tools"
sudo dnf install libffi-devel openssl-devel postgresql-devel
sudo dnf install libuv-devel python3-setuptools

# Configure firewall to allow SysManage ports
sudo firewall-cmd --permanent --add-port=8080/tcp  # Backend API
sudo firewall-cmd --permanent --add-port=3000/tcp  # Frontend UI
sudo firewall-cmd --reload</code></pre>
                            </div>

                            <div class="tab-pane" id="macos">
                                <h3 data-i18n="server_installation.prerequisites.macos.title" data-i18n-html>macOS</h3>
                                <pre><code># Install Homebrew (if not already installed)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install Python 3.12
brew install python@3.12

# Install Node.js 20.x
brew install node@20
brew link node@20

# Install PostgreSQL 14+
brew install postgresql@14
brew services start postgresql@14

# Install Xcode Command Line Tools
xcode-select --install</code></pre>
                            </div>

                            <div class="tab-pane" id="windows">
                                <h3 data-i18n="server_installation.prerequisites.windows.title" data-i18n-html>Windows</h3>
                                <div class="windows-install">
                                    <ol>
                                        <li><strong>Python 3.12:</strong> Download from <a href="https://python.org/downloads/" target="_blank">python.org</a>
                                            <ul><li>‚ö†Ô∏è <strong>AVOID Python 3.13</strong> - Limited Windows binary support</li>
                                            <li>‚úÖ Check "Add Python to PATH" during installation</li></ul>
                                        </li>
                                        <li><strong>Node.js 20.x:</strong> Download from <a href="https://nodejs.org/" target="_blank">nodejs.org</a></li>
                                        <li><strong>PostgreSQL 14+:</strong> Download from <a href="https://postgresql.org/download/windows/" target="_blank">postgresql.org</a></li>
                                        <li><strong>Git for Windows:</strong> Download from <a href="https://git-scm.com/download/win" target="_blank">git-scm.com</a></li>
                                        <li><strong>Visual Studio Build Tools:</strong> Download from <a href="https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022" target="_blank">Microsoft</a></li>
                                    </ol>
                                </div>
                            </div>

                            <div class="tab-pane" id="freebsd">
                                <h3 data-i18n="server_installation.prerequisites.freebsd.title" data-i18n-html>FreeBSD</h3>
                                <pre><code># Update package manager
sudo pkg update

# Install Python 3.12+
sudo pkg install python312 py312-pip py312-sqlite3

# Install Node.js 20.x
sudo pkg install node20 npm

# Install PostgreSQL 14+
sudo pkg install postgresql14-server postgresql14-client
sudo service postgresql enable
sudo service postgresql initdb
sudo service postgresql start

# Install Go (required for OpenBAO)
sudo pkg install go

# Install build tools
sudo pkg install gcc cmake make</code></pre>
                            </div>

                            <div class="tab-pane" id="openbsd">
                                <h3 data-i18n="server_installation.prerequisites.openbsd.title" data-i18n-html>OpenBSD</h3>
                                <pre><code># Update package manager
doas pkg_add -u

# Install Python 3.12+
doas pkg_add python-3.12 py3-pip

# Install Node.js 20.x
doas pkg_add node

# Install PostgreSQL 14+
doas pkg_add postgresql-server postgresql-client
doas rcctl enable postgresql
doas su - _postgresql -c "initdb -D /var/postgresql/data"
doas rcctl start postgresql

# Install build tools (required for cryptography packages)
doas pkg_add rust gcc cmake gmake pkgconf

# Install additional tools for telemetry and gRPC compilation
# Note: These are required for building grpcio and OpenTelemetry from source
doas pkg_add gcc-11.2.0p15 findutils coreutils grpc

# IMPORTANT: OpenBSD requires building some Python packages from source
# The SysManage build system will automatically handle this during 'make install-dev'
# This includes: grpcio, cffi, and all OpenTelemetry packages</code></pre>
                            </div>

                            <div class="tab-pane" id="netbsd">
                                <h3>NetBSD Complete Setup Guide</h3>
                                <pre><code># ===== QUICK INSTALL: All packages in one command =====
# Required + Optional packages for full development environment:
pkgin install python312 py312-pip py312-sqlite3 nodejs npm \
    postgresql14-server postgresql14-client gcc13 cmake gmake pkgconf \
    rust py312-cffi jpeg libjpeg-turbo tiff png freetype2 lcms2 \
    libwebp openjpeg zlib findutils coreutils go git chromium firefox

# ===== OR STEP BY STEP INSTALLATION =====
# ===== STEP 1: Update package manager =====
pkgin update

# ===== STEP 2: Install all required packages =====
# Install Python 3.12
pkgin install python312 py312-pip py312-sqlite3

# Install Node.js and npm
pkgin install nodejs npm

# Install PostgreSQL 14+
pkgin install postgresql14-server postgresql14-client

# Install ALL required build tools and libraries:
# IMPORTANT: jpeg package is required in addition to libjpeg-turbo!
pkgin install gcc13 cmake gmake pkgconf rust py312-cffi \
    jpeg libjpeg-turbo tiff png freetype2 lcms2 libwebp openjpeg zlib

# Install GNU utilities (REQUIRED for OpenTelemetry Collector build from source)
# Provides: gfind, gxargs (findutils) and gdirname (coreutils)
pkgin install findutils coreutils

# Optional: Install Go if you want to build OpenBAO or OpenTelemetry from source
# (Both are optional - the system works without them)
pkgin install go git  # Only needed if you want OpenBAO or OTEL Collector

# NetBSD installs Go as go124 - create a symlink for compatibility:
sudo ln -sf /usr/pkg/bin/go124 /usr/pkg/bin/go

# Install browsers for UI testing and screenshots
pkgin install chromium firefox  # Needed for browser automation tests

# ===== STEP 3: Set environment variables (CRITICAL for NetBSD) =====
# NetBSD installs packages in /usr/pkg, not standard locations
# These MUST be set before installing Python packages with C extensions

# Set for current session:
export CFLAGS="-I/usr/pkg/include"
export LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"

# Make permanent (add to ~/.profile for sh/ksh or ~/.bashrc for bash):
echo 'export CFLAGS="-I/usr/pkg/include"' >> ~/.profile
echo 'export LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"' >> ~/.profile

# Source the profile to apply changes:
. ~/.profile

# ===== STEP 4: Set up PATH for local binaries =====
# Add ~/.local/bin to PATH (needed for OpenBAO and other local tools)
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.profile
. ~/.profile

# PostgreSQL Setup on NetBSD
# IMPORTANT: NetBSD may not have the pgsql user created automatically

# Create the postgres user and group (if not already present)
sudo useradd -m -d /var/db/postgresql -s /bin/sh postgres
sudo groupadd postgres   # only if group not auto-created

# Set ownership of the database directory
sudo mkdir -p /var/db/postgresql/data
sudo chown -R postgres:postgres /var/db/postgresql

# Initialize the database as postgres user
sudo -u postgres /usr/pkg/bin/initdb -D /var/db/postgresql/data
# Note: Path might be /usr/pkg/postgresql14/bin/initdb - run 'which initdb' to confirm

# Copy rc.d script and configure startup
sudo cp /usr/pkg/share/examples/rc.d/pgsql /etc/rc.d/
sudo chmod 755 /etc/rc.d/pgsql

# Enable PostgreSQL to start at boot
echo 'pgsql=YES' | sudo tee -a /etc/rc.conf

# Start PostgreSQL
sudo /etc/rc.d/pgsql start

# Verify PostgreSQL is running
sudo /etc/rc.d/pgsql status

# IMPORTANT: /tmp filesystem considerations
# NetBSD uses tmpfs for /tmp with a default 1GB limit
# If you encounter "No space left on device" errors during pip installs:
#
# Option 1: Increase /tmp size (as root):
mount -t tmpfs -o -s=4g tmpfs /tmp
#
# Option 2: Make permanent in /etc/fstab:
# tmpfs /tmp tmpfs rw,-s=4g 0 0
#
# Option 3: Use alternate temp directory:
export TMPDIR=$HOME/tmp
mkdir -p $HOME/tmp</code></pre>
                            </div>

                            <div class="tab-pane" id="opensuse">
                                <h3 data-i18n="server_installation.prerequisites.opensuse.title" data-i18n-html>openSUSE Leap/Tumbleweed</h3>
                                <pre><code># Update package manager
sudo zypper refresh

# Install Python 3.11 or 3.12 (AVOID 3.13)
sudo zypper install python311 python311-pip python311-devel

# For Python 3.12 (if available in Tumbleweed):
# sudo zypper install python312 python312-pip python312-devel

# Install Node.js 20.x
sudo zypper install nodejs20 npm20

# Install PostgreSQL 14+
sudo zypper install postgresql14-server postgresql14-contrib
sudo systemctl enable postgresql
sudo systemctl start postgresql

# Install build tools and development libraries
sudo zypper install gcc gcc-c++ make cmake pkg-config
sudo zypper install libopenssl-devel libffi-devel postgresql14-devel
sudo zypper install libuv-devel python311-setuptools

# Configure firewall to allow SysManage ports
sudo firewall-cmd --permanent --add-port=8080/tcp  # Backend API
sudo firewall-cmd --permanent --add-port=3000/tcp  # Frontend UI
sudo firewall-cmd --reload</code></pre>

                                <div class="opensuse-note">
                                    <h4 data-i18n="server_installation.prerequisites.opensuse.note_title" data-i18n-html>üì¶ Package Manager Notes</h4>
                                    <ul>
                                        <li><strong data-i18n="server_installation.prerequisites.opensuse.note_leap" data-i18n-html>openSUSE Leap:</strong> Stable packages, Python 3.11 typically available</li>
                                        <li><strong data-i18n="server_installation.prerequisites.opensuse.note_tumbleweed" data-i18n-html>openSUSE Tumbleweed:</strong> Rolling release with latest packages</li>
                                        <li><strong data-i18n="server_installation.prerequisites.opensuse.note_nodejs" data-i18n-html>Node.js versions:</strong> May need to specify version (nodejs20) explicitly</li>
                                        <li><strong data-i18n="server_installation.prerequisites.opensuse.note_postgresql" data-i18n-html>PostgreSQL:</strong> Specify version (postgresql14) for compatibility</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="tab-pane" id="sles">
                                <h3 data-i18n="server_installation.prerequisites.sles.title" data-i18n-html>SUSE Linux Enterprise Server (SLES)</h3>
                                <pre><code># Update package manager
sudo zypper refresh

# Install Python 3.11 or 3.12 and development tools
sudo zypper install python311 python311-pip python311-devel
sudo zypper install gcc gcc-c++ make cmake pkg-config

# Install Node.js 20.x (may require additional repository)
# For SLES 15 SP4+:
sudo SUSEConnect -p sle-module-web-scripting/15.4/x86_64
sudo zypper install nodejs20 npm20

# Install PostgreSQL 14+
sudo zypper install postgresql14-server postgresql14-contrib postgresql14-devel
sudo systemctl enable postgresql
sudo systemctl start postgresql

# Install development libraries
sudo zypper install libopenssl-devel libffi-devel libpq5
sudo zypper install libuv-devel python311-setuptools

# For SLES 15 SP4+, you may also need:
sudo zypper install glibc-devel kernel-devel

# Configure firewall (SuSEfirewall2 or firewalld)
sudo firewall-cmd --permanent --add-port=8080/tcp  # Backend API
sudo firewall-cmd --permanent --add-port=3000/tcp  # Frontend UI
sudo firewall-cmd --reload</code></pre>

                                <div class="sles-note">
                                    <h4 data-i18n="server_installation.prerequisites.sles.note_title" data-i18n-html>üè¢ Enterprise Considerations</h4>
                                    <ul>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_sles12" data-i18n-html>SLES 12:</strong> May require Software Collections (SCL) for newer Python</li>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_sles15" data-i18n-html>SLES 15:</strong> Python 3.6+ included, but 3.11+ recommended</li>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_modules" data-i18n-html>Modules:</strong> Some packages require enabling additional modules via SUSEConnect</li>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_firewall" data-i18n-html>Firewall:</strong> May use SuSEfirewall2 (older) or firewalld (newer)</li>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_selinux" data-i18n-html>SELinux:</strong> May require policy adjustments if enabled</li>
                                        <li><strong data-i18n="server_installation.prerequisites.sles.note_subscription" data-i18n-html>Subscription:</strong> Active SLES subscription required for full package access</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.installation_steps.title" data-i18n-html>Installation Steps</h2>

                    <div class="platform-notice" style="background-color: #fff3cd; border: 1px solid #ffc107; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
                        <h4 style="margin-top: 0;">‚ö†Ô∏è NetBSD Users - Critical Setup Requirements</h4>
                        <p><strong>Before starting installation, NetBSD users MUST:</strong></p>
                        <ol>
                            <li>Install ALL required packages including <code>jpeg</code> (not just libjpeg-turbo)</li>
                            <li>Set environment variables: <code>export CFLAGS="-I/usr/pkg/include" LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"</code></li>
                            <li>Use <code>gmake</code> instead of <code>make</code> for all make commands</li>
                            <li>Manually create PostgreSQL user if not present</li>
                            <li>Increase /tmp size if needed: <code>mount -t tmpfs -o -s=4g tmpfs /tmp</code></li>
                        </ol>
                        <p>See the NetBSD tab in Prerequisites above for complete setup instructions.</p>
                    </div>

                    <div class="install-steps">
                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step1.title" data-i18n-html>Step 1: Clone and Setup</h3>
                            <pre><code>git clone https://github.com/bceverly/sysmanage.git
cd sysmanage

# NetBSD ONLY: Set environment variables BEFORE creating venv
# (Required for building Python packages with C extensions)
export CFLAGS="-I/usr/pkg/include"
export LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"

# Create Python virtual environment (use specific version)
python3.11 -m venv .venv  # Or python3.12 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
                           # FreeBSD/OpenBSD/NetBSD: . .venv/bin/activate

# Upgrade pip to latest version
pip install --upgrade pip</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step2.title" data-i18n-html>Step 2: Database Setup</h3>
                            <p data-i18n="server_installation.installation_steps.step2.description" data-i18n-html>Create PostgreSQL database and user:</p>

                            <div class="db-setup-tabs">
                                <div class="tab-header">
                                    <button class="tab-button active" data-tab="db-linux" data-i18n="server_installation.installation_steps.step2.linux_macos_freebsd" data-i18n-html>Linux/macOS/FreeBSD</button>
                                    <button class="tab-button" data-tab="db-openbsd" data-i18n="server_installation.installation_steps.step2.openbsd" data-i18n-html>OpenBSD</button>
                                    <button class="tab-button" data-tab="db-netbsd" data-i18n="server_installation.installation_steps.step2.netbsd" data-i18n-html>NetBSD</button>
                                    <button class="tab-button" data-tab="db-windows" data-i18n="server_installation.installation_steps.step2.windows" data-i18n-html>Windows</button>
                                </div>

                                <div class="tab-content">
                                    <div class="tab-pane active" id="db-linux">
                                        <pre><code># Switch to postgres user
sudo su - postgres

# Start psql
psql

# In PostgreSQL prompt (using dev credentials):
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;

# Grant schema permissions
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;

# Exit PostgreSQL
\q</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-openbsd">
                                        <pre><code># Switch to _postgresql user
doas -u _postgresql psql postgres

# Run the same SQL commands as Linux/macOS
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-netbsd">
                                        <pre><code># Note: PostgreSQL on NetBSD often uses TCP/IP connections
# Connect as the postgres user (created during setup above)
sudo su - postgres
psql -h localhost postgres

# Alternative: If using pgsql user instead of postgres:
psql -h localhost -U pgsql postgres

# Run the same SQL commands as Linux/macOS
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q

# Test the connection with the new user:
PGPASSWORD=abc123 psql -h localhost -U sysmanage -d sysmanage -c "SELECT version();"</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-windows">
                                        <pre><code># Open "SQL Shell (psql)" from Start Menu
# Or use Command Prompt:
psql -U postgres -h localhost

# Run the same SQL commands:
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="security-warning">
                                <h4 data-i18n="server_installation.installation_steps.step2.security_notes.title" data-i18n-html>‚ö†Ô∏è Security Notes</h4>
                                <ul>
                                    <li data-i18n="server_installation.installation_steps.step2.security_notes.dev_password" data-i18n-html>Development password <code>abc123</code> matches <code>sysmanage-dev.yaml</code></li>
                                    <li><strong data-i18n="server_installation.installation_steps.step2.security_notes.never_production" data-i18n-html>NEVER use this password in production</strong></li>
                                    <li data-i18n="server_installation.installation_steps.step2.security_notes.change_password" data-i18n-html>Change password in both PostgreSQL AND your configuration file</li>
                                </ul>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step3.title" data-i18n-html>Step 3: Install Backend Dependencies</h3>
                            <pre><code>pip install -r requirements.txt

# For development installation with testing tools:
# Linux/macOS: make install-dev
# BSD systems: gmake install-dev</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step4.title" data-i18n-html>Step 4: Test Database Connection</h3>
                            <pre><code># Test connection with development credentials
PGPASSWORD=abc123 psql -U sysmanage -d sysmanage -h localhost -c "SELECT version();"</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step5.title" data-i18n-html>Step 5: Install Frontend Dependencies</h3>
                            <pre><code>cd frontend
npm install</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step6.title" data-i18n-html>Step 6: Configuration</h3>
                            <p data-i18n="server_installation.installation_steps.step6.description" data-i18n-html>Create configuration file at:</p>

                            <div class="config-generator-note">
                                <h4 data-i18n="server_installation.installation_steps.step6.config_generator.title" data-i18n-html>üí° Configuration Generator Available</h4>
                                <p data-i18n="server_installation.installation_steps.step6.config_generator.description" data-i18n-html>Use the interactive <a href="/config-builder.html" target="_blank" data-i18n="server_installation.installation_steps.step6.config_generator.link" data-i18n-html>Configuration Builder Tool</a> to generate customized configuration files for your environment.</p>
                            </div>
                            <ul>
                                <li><strong data-i18n="server_installation.installation_steps.step6.linux_macos_bsd" data-i18n-html>Linux/macOS/FreeBSD/OpenBSD/NetBSD:</strong> <code>/etc/sysmanage.yaml</code></li>
                                <li><strong data-i18n="server_installation.installation_steps.step6.windows_path" data-i18n-html>Windows:</strong> <code>C:\ProgramData\SysManage\sysmanage.yaml</code></li>
                            </ul>

                            <pre><code>api:
  host: "localhost"
  port: 8080

database:
  user: "sysmanage"
  password: "abc123"  # CHANGE FOR PRODUCTION!
  host: "localhost"
  port: 5432
  name: "sysmanage"

security:
  password_salt: "GENERATE_NEW_BASE64_STRING"
  admin_userid: "admin@yourdomain.com"
  admin_password: "CHANGE_THIS_PASSWORD"
  jwt_secret: "GENERATE_NEW_JWT_SECRET"
  jwt_algorithm: "HS256"
  jwt_auth_timeout: 6000
  jwt_refresh_timeout: 60000

webui:
  host: "localhost"
  port: 3000</code></pre>

                            <div class="security-steps">
                                <h4 data-i18n="server_installation.installation_steps.step6.security_steps.title" data-i18n-html>üîê Required Security Steps</h4>
                                <ol>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.generate_secrets" data-i18n-html>Generate new secrets: <code>openssl rand -base64 32</code></li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.strong_passwords" data-i18n-html>Use strong passwords (12+ characters)</li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.file_permissions" data-i18n-html>Set proper file permissions: <code>chmod 600 /etc/sysmanage.yaml</code></li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.never_commit" data-i18n-html>Never commit configuration files to version control</li>
                                </ol>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step7.title" data-i18n-html>Step 7: Run Secure Installation Script</h3>
                            <div class="security-highlight">
                                <h4 data-i18n="server_installation.installation_steps.step7.security_note.title" data-i18n-html>üîê REQUIRED for New Installations</h4>
                                <p data-i18n="server_installation.installation_steps.step7.security_note.description" data-i18n-html>The secure installation script must be run to create the initial admin user and configure unique security tokens for your installation.</p>
                            </div>

                            <pre><code># Run the secure installation script
scripts/sysmanage_secure_installation</code></pre>

                            <div class="script-features">
                                <h4 data-i18n="server_installation.installation_steps.step7.features.title" data-i18n-html>What this script does:</h4>
                                <ul>
                                    <li data-i18n="server_installation.installation_steps.step7.features.admin_user" data-i18n-html>Creates the initial administrative user account</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.jwt_secret" data-i18n-html>Generates unique JWT secret for authentication</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.password_salt" data-i18n-html>Generates unique password salt for secure password hashing</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.config_hardening" data-i18n-html>Applies security hardening to configuration files</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.prevents_defaults" data-i18n-html>Prevents use of default/example security tokens</li>
                                </ul>
                            </div>

                            <div class="security-warning">
                                <h4 data-i18n="server_installation.installation_steps.step7.warning.title" data-i18n-html>‚ö†Ô∏è Important Security Notes</h4>
                                <ul>
                                    <li><strong data-i18n="server_installation.installation_steps.step7.warning.required" data-i18n-html>This step is REQUIRED</strong> - <span data-i18n="server_installation.installation_steps.step7.warning.required_desc" data-i18n-html>the application will not function securely without it</span></li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.unique_tokens" data-i18n-html>Each installation gets unique security tokens to prevent credential reuse</li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.run_once" data-i18n-html>Only run this script once per installation</li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.backup_config" data-i18n-html>Backup your configuration file after running this script</li>
                                </ul>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step8.title" data-i18n-html>Step 8: Start the Application</h3>
                            <pre><code># Start backend API server
uvicorn backend.main:app --reload --host 0.0.0.0 --port 6443

# In another terminal, start frontend (development)
cd frontend
npm run dev</code></pre>

                            <p data-i18n="server_installation.installation_steps.step8.access_description" data-i18n-html>Access the application at:</p>
                            <ul>
                                <li><strong data-i18n="server_installation.installation_steps.step8.https" data-i18n-html>HTTPS:</strong> <span data-i18n="server_installation.installation_steps.step8.https_url" data-i18n-html>https://sysmanage.org:7443 (if SSL certs exist)</span></li>
                                <li><strong data-i18n="server_installation.installation_steps.step8.http" data-i18n-html>HTTP:</strong> <span data-i18n="server_installation.installation_steps.step8.http_url" data-i18n-html>http://localhost:3000 (fallback)</span></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.ssl.title" data-i18n-html>SSL Certificates (Optional)</h2>
                    <p data-i18n="server_installation.ssl.description" data-i18n-html>For HTTPS development, place your SSL certificates in:</p>
                    <pre><code>~/dev/certs/sysmanage.org/
‚îú‚îÄ‚îÄ cert.pem
‚îî‚îÄ‚îÄ privkey.pem</code></pre>
                    <p data-i18n="server_installation.ssl.fallback" data-i18n-html>If certificates are not found, the system automatically falls back to HTTP on localhost.</p>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.troubleshooting.title" data-i18n-html>Troubleshooting</h2>

                    <div class="troubleshooting-grid">
                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.package_errors.title" data-i18n-html>Package Build Errors</h3>
                            <ul>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.missing_libpq" data-i18n-html>Missing libpq-fe.h:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.install_libpq" data-i18n-html>Install <code>libpq-dev</code> (Ubuntu) or <code>postgresql-devel</code> (RHEL)</span></li>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.httptools_errors" data-i18n-html>httptools build errors:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.install_libuv" data-i18n-html>Install <code>libuv1-dev</code> (Ubuntu) or <code>libuv-devel</code> (RHEL)</span></li>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.python313_issues" data-i18n-html>Python 3.13 issues:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.use_older_python" data-i18n-html>Use Python 3.11 or 3.12 instead</span></li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.db_issues.title" data-i18n-html>Database Connection Issues</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.db_issues.verify_postgresql" data-i18n-html>Verify PostgreSQL is running: <code>sudo systemctl status postgresql</code></li>
                                <li data-i18n="server_installation.troubleshooting.db_issues.check_credentials" data-i18n-html>Check credentials match configuration file</li>
                                <li data-i18n="server_installation.troubleshooting.db_issues.test_connection" data-i18n-html>Test connection with psql command shown above</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.port_conflicts.title" data-i18n-html>Port Conflicts</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.ensure_ports" data-i18n-html>Ensure ports 6443 (API) and 7443 (frontend) are available</li>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.check_services" data-i18n-html>Check for existing services: <code>netstat -tlnp | grep :6443</code></li>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.modify_ports" data-i18n-html>Modify ports in configuration if needed</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.permission_issues.title" data-i18n-html>Permission Issues</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.set_config_permissions" data-i18n-html>Set configuration file permissions: <code>chmod 600 /etc/sysmanage.yaml</code></li>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.ensure_ownership" data-i18n-html>Ensure proper ownership of directories</li>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.check_venv" data-i18n-html>Check virtual environment activation</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3>NetBSD-Specific Issues</h3>
                            <ul>
                                <li><strong>PostgreSQL user missing:</strong> NetBSD may not create the postgres/pgsql user automatically. Create it with: <code>sudo useradd -m -d /var/db/postgresql -s /bin/sh postgres</code></li>
                                <li><strong>PostgreSQL won't start:</strong> Ensure <code>pgsql=YES</code> is in /etc/rc.conf, then run <code>sudo /etc/rc.d/pgsql start</code></li>
                                <li><strong>No space left on device during pip install:</strong> NetBSD's /tmp is limited to 1GB by default. Increase with: <code>mount -t tmpfs -o -s=4g tmpfs /tmp</code> or use <code>export TMPDIR=$HOME/tmp</code></li>
                                <li><strong>gmake install-dev for development:</strong> Use <code>gmake</code> instead of <code>make</code>. The Makefile includes NetBSD-specific C tracer dependency checks (gcc13, py312-cffi)</li>
                                <li><strong>PostgreSQL socket not found:</strong> NetBSD PostgreSQL often uses TCP instead of Unix sockets. Always use <code>-h localhost</code> when connecting</li>
                                <li><strong>OpenTelemetry Collector build failures:</strong> NetBSD uses BSD versions of find/xargs/dirname which are incompatible with the OTEL Collector Makefile. Install GNU utilities:
                                    <pre><code>sudo pkgin install findutils coreutils</code></pre>
                                    The install-telemetry.py script will automatically detect and use gfind/gxargs/gdirname on NetBSD.
                                </li>
                                <li><strong>Browser/WebDriver errors:</strong> Install browsers for UI testing:
                                    <pre><code># Install Chromium (includes ChromeDriver)
doas pkgin install chromium

# Install Firefox (requires version-specific name)
doas pkgin install firefox-138.0.4

# Install GeckoDriver for Firefox UI testing
doas pkgin install geckodriver-0.36.0

# Verify installations
which chromium firefox geckodriver</code></pre>
                                    <em>Note: NetBSD Firefox packages often require explicit version numbers unlike other BSD systems. Due to Firefox WebDriver compatibility issues on NetBSD, the UI test suite automatically excludes Firefox tests and runs Chrome-only tests. This ensures clean test results without failures or skipped tests.</em>
                                </li>
                                <li><strong>Pillow build failures:</strong> Install image libraries and set paths:
                                    <pre><code>pkgin install jpeg libjpeg-turbo tiff png freetype2 lcms2 libwebp openjpeg zlib
export CFLAGS="-I/usr/pkg/include"
export LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"</code></pre>
                                </li>
                                <li><strong>Backend fails to start with "libjpeg.so.9 not found":</strong> This occurs when Pillow was installed before the JPEG library or with incorrect paths. The <code>gmake install-dev</code> target automatically rebuilds Pillow for NetBSD. For manual fix:
                                    <pre><code>. .venv/bin/activate
export CFLAGS="-I/usr/pkg/include"
export LDFLAGS="-L/usr/pkg/lib -Wl,-R/usr/pkg/lib"
pip uninstall -y Pillow
pip install --no-binary=:all: Pillow</code></pre>
                                </li>
                                <li><strong>OpenBAO installation:</strong> NetBSD doesn't have pre-built OpenBAO packages. Options:
                                    <ol>
                                        <li><strong>Build from source (recommended):</strong>
                                            <pre><code>pkgin install go git gmake
# NetBSD installs Go as go124 - create symlink:
sudo ln -sf /usr/pkg/bin/go124 /usr/pkg/bin/go
# Add ~/.local/bin to PATH:
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.profile
. ~/.profile
# Then run: gmake install-dev
# It will prompt to build OpenBAO from source</code></pre>
                                        </li>
                                        <li><strong>Use Linux emulation:</strong> Try running Linux binaries under NetBSD's Linux compatibility</li>
                                        <li><strong>Skip OpenBAO:</strong> It's optional - set <code>vault.enabled=false</code> in config</li>
                                    </ol>
                                    <strong>Note:</strong> OpenBAO is optional for development. The system works perfectly without it.
                                </li>
                                <li><strong>OpenBAO 'bao' command not found:</strong> Ensure <code>~/.local/bin</code> is in your PATH: <code>echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.profile && . ~/.profile</code></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <div class="docs-navigation">
                    <div class="nav-links">
                        <a href="./" class="nav-link" data-i18n="server_installation.navigation.server_docs" data-i18n-html>‚Üê Server Documentation</a>
                        <a href="configuration.html" class="nav-link" data-i18n="server_installation.navigation.config_guide" data-i18n-html>Configuration Guide ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer injected automatically by components.js -->    <script src="/assets/js/components.js"></script>
    <script src="/assets/js/i18n.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/navbar.js"></script>
</body>
</html>