<!DOCTYPE html>
<html lang="en" data-i18n-title="server_installation.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="server_installation.title" data-i18n-html>Server Installation Guide - SysManage</title>
    <meta name="description" content="Complete installation guide for SysManage server including prerequisites, database setup, and configuration." data-i18n-attr="content" data-i18n="server_installation.description" data-i18n-html>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="../../assets/images/favicon.svg">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a href="../../">
                        <img src="../../assets/images/sysmanage-logo.svg" alt="SysManage" class="logo">
                    </a>
                </div>
                <div class="nav-menu">
                    <a href="../../#features" class="nav-link" data-i18n="nav.features" data-i18n-html>Features</a>
                    <a href="../../#getting-started" class="nav-link" data-i18n="nav.getting_started" data-i18n-html>Getting Started</a>
                    <a href="../" class="nav-link active" data-i18n="nav.documentation" data-i18n-html>Documentation</a>
                    <a href="../../config-builder.html" class="nav-link" data-i18n="nav.config_builder" data-i18n-html>Configuration Builder</a>
                    <a href="https://github.com/bceverly/sysmanage" class="nav-link" target="_blank" data-i18n="nav.github" data-i18n-html>GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="nav.documentation" data-i18n-html>Documentation</a> > <a href="./" data-i18n="server_docs.section_title" data-i18n-html>Server</a> > <span data-i18n="server_installation.breadcrumb_installation" data-i18n-html>Installation</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="server_installation.header.title" data-i18n-html>Server Installation Guide</h1>
                <p data-i18n="server_installation.header.subtitle" data-i18n-html>Complete step-by-step installation guide for setting up the SysManage server on your infrastructure.</p>
            </div>

            <div class="docs-content">
                <section class="docs-section">
                    <h2 data-i18n="server_installation.requirements.title" data-i18n-html>System Requirements</h2>
                    <div class="requirement-grid">
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.python.title" data-i18n-html>üêç Python</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.python.version" data-i18n-html>3.11 or 3.12</span></p>
                            <p><em data-i18n="server_installation.requirements.python.note" data-i18n-html>Note: Python 3.13 is NOT yet supported due to package compatibility issues</em></p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.nodejs.title" data-i18n-html>üü¢ Node.js</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.nodejs.version" data-i18n-html>20.x or higher</span></p>
                            <p data-i18n="server_installation.requirements.nodejs.description" data-i18n-html>For building the React frontend</p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.postgresql.title" data-i18n-html>üêò PostgreSQL</h3>
                            <p><strong data-i18n="server_installation.requirements.required" data-i18n-html>Required:</strong> <span data-i18n="server_installation.requirements.postgresql.version" data-i18n-html>14 or higher</span></p>
                            <p data-i18n="server_installation.requirements.postgresql.description" data-i18n-html>Primary database for all application data</p>
                        </div>
                        <div class="requirement-item">
                            <h3 data-i18n="server_installation.requirements.os.title" data-i18n-html>üíª Operating System</h3>
                            <p><strong data-i18n="server_installation.requirements.supported" data-i18n-html>Supported:</strong> <span data-i18n="server_installation.requirements.os.platforms" data-i18n-html>Linux, macOS, Windows, FreeBSD, OpenBSD, NetBSD</span></p>
                            <p data-i18n="server_installation.requirements.os.description" data-i18n-html>Cross-platform deployment</p>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.prerequisites.title" data-i18n-html>Platform-Specific Prerequisites</h2>

                    <div class="platform-tabs">
                        <div class="tab-header">
                            <button class="tab-button active" data-tab="ubuntu" data-i18n="server_installation.prerequisites.ubuntu_debian" data-i18n-html>Ubuntu/Debian</button>
                            <button class="tab-button" data-tab="ubuntu25" data-i18n="server_installation.prerequisites.ubuntu25.tab_title" data-i18n-html>Ubuntu 25.04+</button>
                            <button class="tab-button" data-tab="centos" data-i18n="server_installation.prerequisites.centos.tab_title" data-i18n-html>CentOS/RHEL</button>
                            <button class="tab-button" data-tab="macos" data-i18n="server_installation.prerequisites.macos.tab_title" data-i18n-html>macOS</button>
                            <button class="tab-button" data-tab="windows" data-i18n="server_installation.prerequisites.windows.tab_title" data-i18n-html>Windows</button>
                            <button class="tab-button" data-tab="freebsd" data-i18n="server_installation.prerequisites.freebsd.tab_title" data-i18n-html>FreeBSD</button>
                            <button class="tab-button" data-tab="openbsd" data-i18n="server_installation.prerequisites.openbsd.tab_title" data-i18n-html>OpenBSD</button>
                            <button class="tab-button" data-tab="netbsd" data-i18n="server_installation.prerequisites.netbsd.tab_title" data-i18n-html>NetBSD</button>
                        </div>

                        <div class="tab-content">
                            <div class="tab-pane active" id="ubuntu">
                                <h3 data-i18n="server_installation.prerequisites.ubuntu.title" data-i18n-html>Ubuntu 22.04 - 24.10 (Recommended)</h3>
                                <pre><code># Update package manager
sudo apt update

# Install Python 3.11 or 3.12 (AVOID 3.13)
sudo apt install python3.11 python3.11-venv python3.11-dev python3-pip

# For Python 3.12 (if available):
# sudo add-apt-repository ppa:deadsnakes/ppa
# sudo apt update
# sudo apt install python3.12 python3.12-venv python3.12-dev python3-pip

# Install Node.js 20.x
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# Install PostgreSQL 14+
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Install build tools and development libraries
sudo apt install build-essential libffi-dev libssl-dev libpq-dev
sudo apt install libuv1-dev python3-setuptools</code></pre>
                            </div>

                            <div class="tab-pane" id="ubuntu25">
                                <h3 data-i18n="server_installation.prerequisites.ubuntu25.title" data-i18n-html>Ubuntu 25.04+ (Python 3.12 from Source)</h3>
                                <p><strong data-i18n="server_installation.note" data-i18n-html>Note:</strong> <span data-i18n="server_installation.prerequisites.ubuntu25.note" data-i18n-html>Ubuntu 25.04+ only ships with Python 3.13, which is not yet compatible. You must build Python 3.12 from source:</span></p>

                                <pre><code># Install build dependencies
sudo apt install build-essential libssl-dev zlib1g-dev libbz2-dev \
    libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev \
    libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev \
    python3-openssl git libpq-dev libuv1-dev

# Download and build Python 3.12
cd /tmp
wget https://www.python.org/ftp/python/3.12.7/Python-3.12.7.tgz
tar -xf Python-3.12.7.tgz
cd Python-3.12.7

# Configure and build (takes 10-15 minutes)
./configure --enable-optimizations --with-ensurepip=install
make -j$(nproc)
sudo make altinstall

# Verify installation
python3.12 --version

# Install remaining packages
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql</code></pre>
                            </div>

                            <div class="tab-pane" id="centos">
                                <h3 data-i18n="server_installation.prerequisites.centos.title" data-i18n-html>CentOS/RHEL/Fedora</h3>
                                <pre><code># Install Python 3.12+
sudo dnf install python3 python3-devel python3-pip

# Install Node.js 20.x
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo dnf install -y nodejs

# Install PostgreSQL 14+
sudo dnf install postgresql postgresql-server postgresql-contrib
sudo postgresql-setup --initdb
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Install build tools and libraries
sudo dnf groupinstall "Development Tools"
sudo dnf install libffi-devel openssl-devel postgresql-devel
sudo dnf install libuv-devel python3-setuptools</code></pre>
                            </div>

                            <div class="tab-pane" id="macos">
                                <h3 data-i18n="server_installation.prerequisites.macos.title" data-i18n-html>macOS</h3>
                                <pre><code># Install Homebrew (if not already installed)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install Python 3.12
brew install python@3.12

# Install Node.js 20.x
brew install node@20
brew link node@20

# Install PostgreSQL 14+
brew install postgresql@14
brew services start postgresql@14

# Install Xcode Command Line Tools
xcode-select --install</code></pre>
                            </div>

                            <div class="tab-pane" id="windows">
                                <h3 data-i18n="server_installation.prerequisites.windows.title" data-i18n-html>Windows</h3>
                                <div class="windows-install">
                                    <ol>
                                        <li><strong>Python 3.12:</strong> Download from <a href="https://python.org/downloads/" target="_blank">python.org</a>
                                            <ul><li>‚ö†Ô∏è <strong>AVOID Python 3.13</strong> - Limited Windows binary support</li>
                                            <li>‚úÖ Check "Add Python to PATH" during installation</li></ul>
                                        </li>
                                        <li><strong>Node.js 20.x:</strong> Download from <a href="https://nodejs.org/" target="_blank">nodejs.org</a></li>
                                        <li><strong>PostgreSQL 14+:</strong> Download from <a href="https://postgresql.org/download/windows/" target="_blank">postgresql.org</a></li>
                                        <li><strong>Git for Windows:</strong> Download from <a href="https://git-scm.com/download/win" target="_blank">git-scm.com</a></li>
                                        <li><strong>Visual Studio Build Tools:</strong> Download from <a href="https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022" target="_blank">Microsoft</a></li>
                                    </ol>
                                </div>
                            </div>

                            <div class="tab-pane" id="freebsd">
                                <h3 data-i18n="server_installation.prerequisites.freebsd.title" data-i18n-html>FreeBSD</h3>
                                <pre><code># Update package manager
sudo pkg update

# Install Python 3.12+
sudo pkg install python312 py312-pip py312-sqlite3

# Install Node.js 20.x
sudo pkg install node20 npm

# Install PostgreSQL 14+
sudo pkg install postgresql14-server postgresql14-client
sudo service postgresql enable
sudo service postgresql initdb
sudo service postgresql start

# Install build tools
sudo pkg install gcc cmake make</code></pre>
                            </div>

                            <div class="tab-pane" id="openbsd">
                                <h3 data-i18n="server_installation.prerequisites.openbsd.title" data-i18n-html>OpenBSD</h3>
                                <pre><code># Update package manager
doas pkg_add -u

# Install Python 3.12+
doas pkg_add python-3.12 py3-pip

# Install Node.js 20.x
doas pkg_add node

# Install PostgreSQL 14+
doas pkg_add postgresql-server postgresql-client
doas rcctl enable postgresql
doas su - _postgresql -c "initdb -D /var/postgresql/data"
doas rcctl start postgresql

# Install build tools (required for cryptography packages)
doas pkg_add rust gcc cmake gmake pkgconf</code></pre>
                            </div>

                            <div class="tab-pane" id="netbsd">
                                <h3 data-i18n="server_installation.prerequisites.netbsd.title" data-i18n-html>NetBSD</h3>
                                <pre><code># Update package manager
pkgin update

# Install Python 3.12
pkgin install python312 py312-pip py312-sqlite3

# Install Node.js 20.x
pkgin install nodejs npm

# Install PostgreSQL 14+
pkgin install postgresql14-server postgresql14-client

# Install build tools and dependencies for Python packages
pkgin install gcc13 cmake gmake pkgconf rust
# Install Python CFFI for C extensions (improves test performance)
pkgin install py312-cffi

# PostgreSQL Setup
# Create data directory
mkdir -p /usr/pkg/pgsql/data
chown pgsql:pgsql /usr/pkg/pgsql/data

# Change pgsql user shell temporarily for initialization
chsh -s /bin/sh pgsql

# Initialize database cluster
su - pgsql -c "/usr/pkg/bin/initdb -D /usr/pkg/pgsql/data"

# Change shell back to nologin for security
chsh -s /sbin/nologin pgsql

# Copy rc.d script and start PostgreSQL
cp /usr/pkg/share/examples/rc.d/pgsql /etc/rc.d/
/etc/rc.d/pgsql start

# Enable PostgreSQL to start at boot
echo 'pgsql=YES' >> /etc/rc.conf

# IMPORTANT: /tmp filesystem considerations
# NetBSD uses tmpfs for /tmp with a default 1GB limit
# If you encounter "No space left on device" errors during pip installs:
#
# Option 1: Increase /tmp size (as root):
mount -t tmpfs -o -s=4g tmpfs /tmp
#
# Option 2: Make permanent in /etc/fstab:
# tmpfs /tmp tmpfs rw,-s=4g 0 0
#
# Option 3: Use alternate temp directory:
export TMPDIR=$HOME/tmp
mkdir -p $HOME/tmp</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.installation_steps.title" data-i18n-html>Installation Steps</h2>

                    <div class="install-steps">
                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step1.title" data-i18n-html>Step 1: Clone and Setup</h3>
                            <pre><code>git clone https://github.com/bceverly/sysmanage.git
cd sysmanage

# Create Python virtual environment (use specific version)
python3.11 -m venv .venv  # Or python3.12 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
                           # OpenBSD: . .venv/bin/activate

# Upgrade pip to latest version
pip install --upgrade pip</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step2.title" data-i18n-html>Step 2: Install Backend Dependencies</h3>
                            <pre><code>pip install -r requirements.txt

# For development installation with testing tools:
# Linux/macOS: make install-dev
# BSD systems: gmake install-dev</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step3.title" data-i18n-html>Step 3: Database Setup</h3>
                            <p data-i18n="server_installation.installation_steps.step3.description" data-i18n-html>Create PostgreSQL database and user:</p>

                            <div class="db-setup-tabs">
                                <div class="tab-header">
                                    <button class="tab-button active" data-tab="db-linux" data-i18n="server_installation.installation_steps.step3.linux_macos_freebsd" data-i18n-html>Linux/macOS/FreeBSD</button>
                                    <button class="tab-button" data-tab="db-openbsd" data-i18n="server_installation.installation_steps.step3.openbsd" data-i18n-html>OpenBSD</button>
                                    <button class="tab-button" data-tab="db-netbsd" data-i18n="server_installation.installation_steps.step3.netbsd" data-i18n-html>NetBSD</button>
                                    <button class="tab-button" data-tab="db-windows" data-i18n="server_installation.installation_steps.step3.windows" data-i18n-html>Windows</button>
                                </div>

                                <div class="tab-content">
                                    <div class="tab-pane active" id="db-linux">
                                        <pre><code># Switch to postgres user
sudo -u postgres psql

# In PostgreSQL prompt (using dev credentials):
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;

# Grant schema permissions
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;

# Exit PostgreSQL
\q</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-openbsd">
                                        <pre><code># Switch to _postgresql user
doas -u _postgresql psql postgres

# Run the same SQL commands as Linux/macOS
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-netbsd">
                                        <pre><code># Note: PostgreSQL on NetBSD listens on TCP/IP by default
# Connect using -h localhost
psql -h localhost -U pgsql postgres

# If the above doesn't work, temporarily change pgsql user shell:
chsh -s /bin/sh pgsql
su - pgsql -c "psql -h localhost postgres"

# Run the same SQL commands as Linux/macOS
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q

# Remember to change shell back if you modified it:
chsh -s /sbin/nologin pgsql</code></pre>
                                    </div>

                                    <div class="tab-pane" id="db-windows">
                                        <pre><code># Open "SQL Shell (psql)" from Start Menu
# Or use Command Prompt:
psql -U postgres -h localhost

# Run the same SQL commands:
CREATE USER sysmanage WITH PASSWORD 'abc123';
CREATE DATABASE sysmanage OWNER sysmanage;
GRANT ALL PRIVILEGES ON DATABASE sysmanage TO sysmanage;
\c sysmanage
GRANT ALL ON SCHEMA public TO sysmanage;
\q</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="security-warning">
                                <h4 data-i18n="server_installation.installation_steps.step3.security_notes.title" data-i18n-html>‚ö†Ô∏è Security Notes</h4>
                                <ul>
                                    <li data-i18n="server_installation.installation_steps.step3.security_notes.dev_password" data-i18n-html>Development password <code>abc123</code> matches <code>sysmanage-dev.yaml</code></li>
                                    <li><strong data-i18n="server_installation.installation_steps.step3.security_notes.never_production" data-i18n-html>NEVER use this password in production</strong></li>
                                    <li data-i18n="server_installation.installation_steps.step3.security_notes.change_password" data-i18n-html>Change password in both PostgreSQL AND your configuration file</li>
                                </ul>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step4.title" data-i18n-html>Step 4: Test Database Connection</h3>
                            <pre><code># Test connection with development credentials
PGPASSWORD=abc123 psql -U sysmanage -d sysmanage -h localhost -c "SELECT version();"</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step5.title" data-i18n-html>Step 5: Install Frontend Dependencies</h3>
                            <pre><code>cd frontend
npm install</code></pre>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step6.title" data-i18n-html>Step 6: Configuration</h3>
                            <p data-i18n="server_installation.installation_steps.step6.description" data-i18n-html>Create configuration file at:</p>

                            <div class="config-generator-note">
                                <h4 data-i18n="server_installation.installation_steps.step6.config_generator.title" data-i18n-html>üí° Configuration Generator Available</h4>
                                <p data-i18n="server_installation.installation_steps.step6.config_generator.description" data-i18n-html>Use the interactive <a href="/config-builder.html" target="_blank" data-i18n="server_installation.installation_steps.step6.config_generator.link" data-i18n-html>Configuration Builder Tool</a> to generate customized configuration files for your environment.</p>
                            </div>
                            <ul>
                                <li><strong data-i18n="server_installation.installation_steps.step6.linux_macos_bsd" data-i18n-html>Linux/macOS/FreeBSD/OpenBSD/NetBSD:</strong> <code>/etc/sysmanage.yaml</code></li>
                                <li><strong data-i18n="server_installation.installation_steps.step6.windows_path" data-i18n-html>Windows:</strong> <code>C:\ProgramData\SysManage\sysmanage.yaml</code></li>
                            </ul>

                            <pre><code>api:
  host: "localhost"
  port: 8080

database:
  user: "sysmanage"
  password: "abc123"  # CHANGE FOR PRODUCTION!
  host: "localhost"
  port: 5432
  name: "sysmanage"

security:
  password_salt: "GENERATE_NEW_BASE64_STRING"
  admin_userid: "admin@yourdomain.com"
  admin_password: "CHANGE_THIS_PASSWORD"
  jwt_secret: "GENERATE_NEW_JWT_SECRET"
  jwt_algorithm: "HS256"
  jwt_auth_timeout: 6000
  jwt_refresh_timeout: 60000

webui:
  host: "localhost"
  port: 3000</code></pre>

                            <div class="security-steps">
                                <h4 data-i18n="server_installation.installation_steps.step6.security_steps.title" data-i18n-html>üîê Required Security Steps</h4>
                                <ol>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.generate_secrets" data-i18n-html>Generate new secrets: <code>openssl rand -base64 32</code></li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.strong_passwords" data-i18n-html>Use strong passwords (12+ characters)</li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.file_permissions" data-i18n-html>Set proper file permissions: <code>chmod 600 /etc/sysmanage.yaml</code></li>
                                    <li data-i18n="server_installation.installation_steps.step6.security_steps.never_commit" data-i18n-html>Never commit configuration files to version control</li>
                                </ol>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step7.title" data-i18n-html>Step 7: Run Secure Installation Script</h3>
                            <div class="security-highlight">
                                <h4 data-i18n="server_installation.installation_steps.step7.security_note.title" data-i18n-html>üîê REQUIRED for New Installations</h4>
                                <p data-i18n="server_installation.installation_steps.step7.security_note.description" data-i18n-html>The secure installation script must be run to create the initial admin user and configure unique security tokens for your installation.</p>
                            </div>

                            <pre><code># Run the secure installation script
scripts/sysmanage_secure_installation</code></pre>

                            <div class="script-features">
                                <h4 data-i18n="server_installation.installation_steps.step7.features.title" data-i18n-html>What this script does:</h4>
                                <ul>
                                    <li data-i18n="server_installation.installation_steps.step7.features.admin_user" data-i18n-html>Creates the initial administrative user account</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.jwt_secret" data-i18n-html>Generates unique JWT secret for authentication</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.password_salt" data-i18n-html>Generates unique password salt for secure password hashing</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.config_hardening" data-i18n-html>Applies security hardening to configuration files</li>
                                    <li data-i18n="server_installation.installation_steps.step7.features.prevents_defaults" data-i18n-html>Prevents use of default/example security tokens</li>
                                </ul>
                            </div>

                            <div class="security-warning">
                                <h4 data-i18n="server_installation.installation_steps.step7.warning.title" data-i18n-html>‚ö†Ô∏è Important Security Notes</h4>
                                <ul>
                                    <li><strong data-i18n="server_installation.installation_steps.step7.warning.required" data-i18n-html>This step is REQUIRED</strong> - <span data-i18n="server_installation.installation_steps.step7.warning.required_desc" data-i18n-html>the application will not function securely without it</span></li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.unique_tokens" data-i18n-html>Each installation gets unique security tokens to prevent credential reuse</li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.run_once" data-i18n-html>Only run this script once per installation</li>
                                    <li data-i18n="server_installation.installation_steps.step7.warning.backup_config" data-i18n-html>Backup your configuration file after running this script</li>
                                </ul>
                            </div>
                        </div>

                        <div class="step">
                            <h3 data-i18n="server_installation.installation_steps.step8.title" data-i18n-html>Step 8: Start the Application</h3>
                            <pre><code># Start backend API server
uvicorn backend.main:app --reload --host 0.0.0.0 --port 6443

# In another terminal, start frontend (development)
cd frontend
npm run dev</code></pre>

                            <p data-i18n="server_installation.installation_steps.step8.access_description" data-i18n-html>Access the application at:</p>
                            <ul>
                                <li><strong data-i18n="server_installation.installation_steps.step8.https" data-i18n-html>HTTPS:</strong> <span data-i18n="server_installation.installation_steps.step8.https_url" data-i18n-html>https://sysmanage.org:7443 (if SSL certs exist)</span></li>
                                <li><strong data-i18n="server_installation.installation_steps.step8.http" data-i18n-html>HTTP:</strong> <span data-i18n="server_installation.installation_steps.step8.http_url" data-i18n-html>http://localhost:3000 (fallback)</span></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.ssl.title" data-i18n-html>SSL Certificates (Optional)</h2>
                    <p data-i18n="server_installation.ssl.description" data-i18n-html>For HTTPS development, place your SSL certificates in:</p>
                    <pre><code>~/dev/certs/sysmanage.org/
‚îú‚îÄ‚îÄ cert.pem
‚îî‚îÄ‚îÄ privkey.pem</code></pre>
                    <p data-i18n="server_installation.ssl.fallback" data-i18n-html>If certificates are not found, the system automatically falls back to HTTP on localhost.</p>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="server_installation.troubleshooting.title" data-i18n-html>Troubleshooting</h2>

                    <div class="troubleshooting-grid">
                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.package_errors.title" data-i18n-html>Package Build Errors</h3>
                            <ul>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.missing_libpq" data-i18n-html>Missing libpq-fe.h:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.install_libpq" data-i18n-html>Install <code>libpq-dev</code> (Ubuntu) or <code>postgresql-devel</code> (RHEL)</span></li>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.httptools_errors" data-i18n-html>httptools build errors:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.install_libuv" data-i18n-html>Install <code>libuv1-dev</code> (Ubuntu) or <code>libuv-devel</code> (RHEL)</span></li>
                                <li><strong data-i18n="server_installation.troubleshooting.package_errors.python313_issues" data-i18n-html>Python 3.13 issues:</strong> <span data-i18n="server_installation.troubleshooting.package_errors.use_older_python" data-i18n-html>Use Python 3.11 or 3.12 instead</span></li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.db_issues.title" data-i18n-html>Database Connection Issues</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.db_issues.verify_postgresql" data-i18n-html>Verify PostgreSQL is running: <code>sudo systemctl status postgresql</code></li>
                                <li data-i18n="server_installation.troubleshooting.db_issues.check_credentials" data-i18n-html>Check credentials match configuration file</li>
                                <li data-i18n="server_installation.troubleshooting.db_issues.test_connection" data-i18n-html>Test connection with psql command shown above</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.port_conflicts.title" data-i18n-html>Port Conflicts</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.ensure_ports" data-i18n-html>Ensure ports 6443 (API) and 7443 (frontend) are available</li>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.check_services" data-i18n-html>Check for existing services: <code>netstat -tlnp | grep :6443</code></li>
                                <li data-i18n="server_installation.troubleshooting.port_conflicts.modify_ports" data-i18n-html>Modify ports in configuration if needed</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3 data-i18n="server_installation.troubleshooting.permission_issues.title" data-i18n-html>Permission Issues</h3>
                            <ul>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.set_config_permissions" data-i18n-html>Set configuration file permissions: <code>chmod 600 /etc/sysmanage.yaml</code></li>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.ensure_ownership" data-i18n-html>Ensure proper ownership of directories</li>
                                <li data-i18n="server_installation.troubleshooting.permission_issues.check_venv" data-i18n-html>Check virtual environment activation</li>
                            </ul>
                        </div>

                        <div class="trouble-item">
                            <h3>NetBSD-Specific Issues</h3>
                            <ul>
                                <li><strong>PostgreSQL "This account is currently not available":</strong> The pgsql user has /sbin/nologin as shell. Use <code>chsh -s /bin/sh pgsql</code> temporarily or connect via TCP: <code>psql -h localhost -U pgsql</code></li>
                                <li><strong>No space left on device during pip install:</strong> NetBSD's /tmp is limited to 1GB by default. Increase with: <code>mount -t tmpfs -o -s=4g tmpfs /tmp</code> or use <code>export TMPDIR=$HOME/tmp</code></li>
                                <li><strong>gmake install-dev for development:</strong> Use <code>gmake</code> instead of <code>make</code>. The Makefile includes NetBSD-specific C tracer dependency checks (gcc13, py312-cffi)</li>
                                <li><strong>PostgreSQL socket not found:</strong> NetBSD PostgreSQL often uses TCP instead of Unix sockets. Always use <code>-h localhost</code> when connecting</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <div class="docs-navigation">
                    <div class="nav-links">
                        <a href="./" class="nav-link" data-i18n="server_installation.navigation.server_docs" data-i18n-html>‚Üê Server Documentation</a>
                        <a href="configuration.html" class="nav-link" data-i18n="server_installation.navigation.config_guide" data-i18n-html>Configuration Guide ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">&copy; 2024 SysManage. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/i18n.js"></script>
    <script src="../../assets/js/navbar.js"></script>
    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/i18n.js"></script>
</body>
</html>