<!DOCTYPE html>
<html lang="en" data-i18n-title="secure_installation.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="secure_installation.title" data-i18n-html>Secure Installation Guide - SysManage</title>
    <meta name="description" content="Complete guide to the sysmanage_secure_installation script for automated OpenBAO setup and secure system initialization." data-i18n-attr="content" data-i18n="secure_installation.description" data-i18n-html>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="../../assets/images/favicon.svg">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a href="../../">
                        <img src="../../assets/images/sysmanage-logo.svg" alt="SysManage" class="logo">
                    </a>
                </div>
                <div class="nav-menu">
                    <a href="../../#features" class="nav-link" data-i18n="nav.features" data-i18n-html>Features</a>
                    <a href="../../#getting-started" class="nav-link" data-i18n="nav.getting_started" data-i18n-html>Getting Started</a>
                    <a href="../" class="nav-link active" data-i18n="nav.documentation" data-i18n-html>Documentation</a>
                    <a href="../../config-builder.html" class="nav-link" data-i18n="nav.config_builder" data-i18n-html>Configuration Builder</a>
                    <a href="https://github.com/bceverly/sysmanage" class="nav-link" target="_blank" data-i18n="nav.github" data-i18n-html>GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="nav.documentation" data-i18n-html>Documentation</a> >
                <a href="index.html" data-i18n="server_docs.section_title" data-i18n-html>Server</a> >
                <span data-i18n="secure_installation.breadcrumb" data-i18n-html>Secure Installation</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="secure_installation.header.title" data-i18n-html>üîê SysManage Secure Installation</h1>
                <p data-i18n="secure_installation.header.subtitle" data-i18n-html>Automated production-ready setup with integrated OpenBAO vault initialization and enterprise security defaults.</p>
            </div>

            <div class="docs-content">
                <section class="docs-overview">
                    <div class="feature-highlight">
                        <h2 data-i18n="secure_installation.overview.title" data-i18n-html>üèÜ Production-Ready Security from Day One</h2>
                        <p data-i18n="secure_installation.overview.description" data-i18n-html>The <code>sysmanage_secure_installation</code> script represents a quantum leap in system management deployment. Inspired by MySQL's legendary secure installation process, this script transforms a basic SysManage installation into an enterprise-grade, production-ready security fortress.</p>

                        <div class="security-badge">
                            <h3 data-i18n="secure_installation.overview.badge_title" data-i18n-html>üöÄ Zero-Configuration Excellence</h3>
                            <p data-i18n="secure_installation.overview.badge_description" data-i18n-html>What used to take hours of manual configuration now happens in minutes with bulletproof automation that never makes mistakes.</p>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.what_it_does.title" data-i18n-html>‚ö° What the Script Accomplishes</h2>
                    <p data-i18n="secure_installation.what_it_does.description" data-i18n-html>This revolutionary script automates the complete transformation of your SysManage installation into an enterprise-grade security platform:</p>

                    <div class="accomplishments-grid">
                        <div class="accomplishment-item premier">
                            <h3 data-i18n="secure_installation.accomplishments.openbao_title" data-i18n-html>üèóÔ∏è OpenBAO Vault Initialization</h3>
                            <ul>
                                <li data-i18n="secure_installation.accomplishments.openbao_feature1" data-i18n-html>Automatic OpenBAO server configuration and startup</li>
                                <li data-i18n="secure_installation.accomplishments.openbao_feature2" data-i18n-html>Production-mode vault initialization with secure defaults</li>
                                <li data-i18n="secure_installation.accomplishments.openbao_feature3" data-i18n-html>Automated vault unsealing and secrets engine setup</li>
                                <li data-i18n="secure_installation.accomplishments.openbao_feature4" data-i18n-html>Secure credential generation and storage</li>
                            </ul>
                        </div>

                        <div class="accomplishment-item premier">
                            <h3 data-i18n="secure_installation.accomplishments.database_title" data-i18n-html>üóÑÔ∏è Database Security Hardening</h3>
                            <ul>
                                <li data-i18n="secure_installation.accomplishments.database_feature1" data-i18n-html>Complete Alembic migration execution</li>
                                <li data-i18n="secure_installation.accomplishments.database_feature2" data-i18n-html>UUID-based primary keys for enhanced security</li>
                                <li data-i18n="secure_installation.accomplishments.database_feature3" data-i18n-html>Secure database schema initialization</li>
                                <li data-i18n="secure_installation.accomplishments.database_feature4" data-i18n-html>Database connection validation and optimization</li>
                            </ul>
                        </div>

                        <div class="accomplishment-item premier">
                            <h3 data-i18n="secure_installation.accomplishments.admin_title" data-i18n-html>üë§ Administrative User Setup</h3>
                            <ul>
                                <li data-i18n="secure_installation.accomplishments.admin_feature1" data-i18n-html>Secure admin user creation with Argon2 password hashing</li>
                                <li data-i18n="secure_installation.accomplishments.admin_feature2" data-i18n-html>UUID-based user identification</li>
                                <li data-i18n="secure_installation.accomplishments.admin_feature3" data-i18n-html>Comprehensive password policy enforcement</li>
                                <li data-i18n="secure_installation.accomplishments.admin_feature4" data-i18n-html>Role-based access control initialization</li>
                            </ul>
                        </div>

                        <div class="accomplishment-item premier">
                            <h3 data-i18n="secure_installation.accomplishments.security_title" data-i18n-html>üîí Security Configuration</h3>
                            <ul>
                                <li data-i18n="secure_installation.accomplishments.security_feature1" data-i18n-html>Cryptographically secure JWT secret generation</li>
                                <li data-i18n="secure_installation.accomplishments.security_feature2" data-i18n-html>Production security defaults activation</li>
                                <li data-i18n="secure_installation.accomplishments.security_feature3" data-i18n-html>SSL/TLS configuration optimization</li>
                                <li data-i18n="secure_installation.accomplishments.security_feature4" data-i18n-html>Security warning system initialization</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.cross_platform.title" data-i18n-html>üåê Cross-Platform Excellence</h2>
                    <p data-i18n="secure_installation.cross_platform.description" data-i18n-html>The secure installation script demonstrates SysManage's commitment to universal compatibility with intelligent platform detection and privilege management:</p>

                    <div class="platform-support">
                        <h3 data-i18n="secure_installation.cross_platform.supported_title" data-i18n-html>‚úÖ Supported Platforms</h3>
                        <div class="platforms-grid">
                            <div class="platform-item">
                                <h4 data-i18n="secure_installation.platforms.linux_title" data-i18n-html>üêß Linux</h4>
                                <p data-i18n="secure_installation.platforms.linux_description" data-i18n-html>Full support for all major distributions with automatic sudo detection</p>
                            </div>
                            <div class="platform-item">
                                <h4 data-i18n="secure_installation.platforms.macos_title" data-i18n-html>üçé macOS</h4>
                                <p data-i18n="secure_installation.platforms.macos_description" data-i18n-html>Native macOS support with Homebrew integration</p>
                            </div>
                            <div class="platform-item">
                                <h4 data-i18n="secure_installation.platforms.freebsd_title" data-i18n-html>üòà FreeBSD</h4>
                                <p data-i18n="secure_installation.platforms.freebsd_description" data-i18n-html>BSD-native with doas and sudo support</p>
                            </div>
                            <div class="platform-item">
                                <h4 data-i18n="secure_installation.platforms.openbsd_title" data-i18n-html>üê° OpenBSD</h4>
                                <p data-i18n="secure_installation.platforms.openbsd_description" data-i18n-html>OpenBSD security-first approach with doas integration</p>
                            </div>
                            <div class="platform-item">
                                <h4 data-i18n="secure_installation.platforms.windows_title" data-i18n-html>ü™ü Windows</h4>
                                <p data-i18n="secure_installation.platforms.windows_description" data-i18n-html>PowerShell and MSYS2 support with Administrator privilege detection</p>
                            </div>
                        </div>
                    </div>

                    <div class="privilege-management">
                        <h3 data-i18n="secure_installation.cross_platform.privileges_title" data-i18n-html>üîê Intelligent Privilege Management</h3>
                        <ul>
                            <li data-i18n="secure_installation.privileges.feature1" data-i18n-html><strong>Automatic Detection</strong>: Detects current privilege level across all platforms</li>
                            <li data-i18n="secure_installation.privileges.feature2" data-i18n-html><strong>Smart Elevation</strong>: Uses appropriate elevation method (sudo, doas, or Administrator)</li>
                            <li data-i18n="secure_installation.privileges.feature3" data-i18n-html><strong>Virtual Environment</strong>: Maintains proper Python virtual environment context</li>
                            <li data-i18n="secure_installation.privileges.feature4" data-i18n-html><strong>Safety Checks</strong>: Validates environment before making system changes</li>
                        </ul>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.usage.title" data-i18n-html>üöÄ Usage Guide</h2>

                    <div class="usage-steps">
                        <h3 data-i18n="secure_installation.usage.prerequisites_title" data-i18n-html>üìã Prerequisites</h3>
                        <ul>
                            <li data-i18n="secure_installation.usage.prereq1" data-i18n-html>SysManage installation with virtual environment set up (<code>make install-dev</code>)</li>
                            <li data-i18n="secure_installation.usage.prereq2" data-i18n-html>Administrative/root privileges on the system</li>
                            <li data-i18n="secure_installation.usage.prereq3" data-i18n-html>PostgreSQL database running and accessible</li>
                            <li data-i18n="secure_installation.usage.prereq4" data-i18n-html>OpenBAO binary available (automatically installed with <code>make install-dev</code>)</li>
                        </ul>

                        <h3 data-i18n="secure_installation.usage.running_title" data-i18n-html>‚ö° Running the Script</h3>
                        <div class="code-example">
                            <h4 data-i18n="secure_installation.usage.basic_title" data-i18n-html>Basic Usage:</h4>
                            <pre><code># Navigate to your SysManage installation
cd /path/to/sysmanage

# Run the secure installation script
./scripts/sysmanage_secure_installation</code></pre>
                        </div>

                        <div class="code-example">
                            <h4 data-i18n="secure_installation.usage.advanced_title" data-i18n-html>Advanced Options:</h4>
                            <pre><code># Skip interactive prompts (use defaults)
./scripts/sysmanage_secure_installation --non-interactive

# Specify custom configuration file
./scripts/sysmanage_secure_installation --config /custom/path/sysmanage.yaml

# Skip OpenBAO initialization (if already configured)
./scripts/sysmanage_secure_installation --skip-vault</code></pre>
                        </div>
                    </div>

                    <div class="installation-flow">
                        <h3 data-i18n="secure_installation.usage.flow_title" data-i18n-html>üìä Installation Flow</h3>
                        <div class="flow-steps">
                            <div class="flow-step">
                                <div class="step-number">1</div>
                                <h4 data-i18n="secure_installation.flow.step1_title" data-i18n-html>Environment Validation</h4>
                                <p data-i18n="secure_installation.flow.step1_description" data-i18n-html>Validates virtual environment, dependencies, and system requirements</p>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step">
                                <div class="step-number">2</div>
                                <h4 data-i18n="secure_installation.flow.step2_title" data-i18n-html>Database Migration</h4>
                                <p data-i18n="secure_installation.flow.step2_description" data-i18n-html>Executes Alembic migrations to set up secure database schema</p>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step">
                                <div class="step-number">3</div>
                                <h4 data-i18n="secure_installation.flow.step3_title" data-i18n-html>Admin User Creation</h4>
                                <p data-i18n="secure_installation.flow.step3_description" data-i18n-html>Creates administrative user with secure password hashing</p>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step">
                                <div class="step-number">4</div>
                                <h4 data-i18n="secure_installation.flow.step4_title" data-i18n-html>Security Configuration</h4>
                                <p data-i18n="secure_installation.flow.step4_description" data-i18n-html>Generates JWT secrets and applies security hardening</p>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step">
                                <div class="step-number">5</div>
                                <h4 data-i18n="secure_installation.flow.step5_title" data-i18n-html>OpenBAO Initialization</h4>
                                <p data-i18n="secure_installation.flow.step5_description" data-i18n-html>Configures and initializes OpenBAO vault in production mode</p>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step success">
                                <div class="step-number">‚úì</div>
                                <h4 data-i18n="secure_installation.flow.success_title" data-i18n-html>Production Ready!</h4>
                                <p data-i18n="secure_installation.flow.success_description" data-i18n-html>Enterprise-grade SysManage installation ready for production use</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.security_features.title" data-i18n-html>üõ°Ô∏è Advanced Security Features</h2>

                    <div class="security-features-grid">
                        <div class="security-feature">
                            <h3 data-i18n="secure_installation.security.argon2_title" data-i18n-html>üîê Argon2 Password Hashing</h3>
                            <p data-i18n="secure_installation.security.argon2_description" data-i18n-html>Uses Argon2id, the winner of the Password Hashing Competition, providing military-grade protection against rainbow table and GPU-based attacks.</p>
                            <ul>
                                <li data-i18n="secure_installation.security.argon2_feature1" data-i18n-html>Memory-hard algorithm resistant to specialized hardware attacks</li>
                                <li data-i18n="secure_installation.security.argon2_feature2" data-i18n-html>Configurable time and memory parameters for optimal security</li>
                                <li data-i18n="secure_installation.security.argon2_feature3" data-i18n-html>Salt-based protection against rainbow table attacks</li>
                            </ul>
                        </div>

                        <div class="security-feature">
                            <h3 data-i18n="secure_installation.security.uuid_title" data-i18n-html>üÜî UUID-Based Security</h3>
                            <p data-i18n="secure_installation.security.uuid_description" data-i18n-html>All primary keys use cryptographically secure UUIDs, eliminating enumeration attacks and providing enhanced privacy.</p>
                            <ul>
                                <li data-i18n="secure_installation.security.uuid_feature1" data-i18n-html>Version 4 UUIDs with cryptographic randomness</li>
                                <li data-i18n="secure_installation.security.uuid_feature2" data-i18n-html>Prevents user enumeration and predictable resource URLs</li>
                                <li data-i18n="secure_installation.security.uuid_feature3" data-i18n-html>Enhanced privacy and GDPR compliance</li>
                            </ul>
                        </div>

                        <div class="security-feature">
                            <h3 data-i18n="secure_installation.security.jwt_title" data-i18n-html>üé´ Cryptographic JWT Secrets</h3>
                            <p data-i18n="secure_installation.security.jwt_description" data-i18n-html>Generates cryptographically secure JWT secrets using Python's secrets module for unbreakable token security.</p>
                            <ul>
                                <li data-i18n="secure_installation.security.jwt_feature1" data-i18n-html>256-bit entropy from OS-level randomness</li>
                                <li data-i18n="secure_installation.security.jwt_feature2" data-i18n-html>Automatic secret rotation capabilities</li>
                                <li data-i18n="secure_installation.security.jwt_feature3" data-i18n-html>Secure token validation and expiration</li>
                            </ul>
                        </div>

                        <div class="security-feature">
                            <h3 data-i18n="secure_installation.security.openbao_title" data-i18n-html>üè¶ OpenBAO Vault Integration</h3>
                            <p data-i18n="secure_installation.security.openbao_description" data-i18n-html>Seamless OpenBAO integration provides enterprise-grade secrets management from the moment of installation.</p>
                            <ul>
                                <li data-i18n="secure_installation.security.openbao_feature1" data-i18n-html>Automatic vault initialization and unsealing</li>
                                <li data-i18n="secure_installation.security.openbao_feature2" data-i18n-html>Production-mode configuration with secure defaults</li>
                                <li data-i18n="secure_installation.security.openbao_feature3" data-i18n-html>Key-value secrets engine setup and configuration</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.troubleshooting.title" data-i18n-html>üîß Troubleshooting</h2>

                    <div class="troubleshooting-grid">
                        <div class="troubleshoot-item">
                            <h3 data-i18n="secure_installation.troubleshooting.privileges_title" data-i18n-html>‚ùå Privilege Issues</h3>
                            <p data-i18n="secure_installation.troubleshooting.privileges_problem" data-i18n-html><strong>Problem:</strong> Script fails with permission denied errors</p>
                            <div class="solution">
                                <h4 data-i18n="secure_installation.troubleshooting.privileges_solution_title" data-i18n-html>Solution:</h4>
                                <ul>
                                    <li data-i18n="secure_installation.troubleshooting.privileges_solution1" data-i18n-html>Ensure you have administrative privileges on your system</li>
                                    <li data-i18n="secure_installation.troubleshooting.privileges_solution2" data-i18n-html>On Linux/macOS: Use <code>sudo</code> or ensure your user is in sudoers</li>
                                    <li data-i18n="secure_installation.troubleshooting.privileges_solution3" data-i18n-html>On FreeBSD/OpenBSD: Configure <code>doas</code> or use <code>sudo</code></li>
                                    <li data-i18n="secure_installation.troubleshooting.privileges_solution4" data-i18n-html>On Windows: Run terminal as Administrator</li>
                                </ul>
                            </div>
                        </div>

                        <div class="troubleshoot-item">
                            <h3 data-i18n="secure_installation.troubleshooting.venv_title" data-i18n-html>üêç Virtual Environment Issues</h3>
                            <p data-i18n="secure_installation.troubleshooting.venv_problem" data-i18n-html><strong>Problem:</strong> "Virtual environment not found" error</p>
                            <div class="solution">
                                <h4 data-i18n="secure_installation.troubleshooting.venv_solution_title" data-i18n-html>Solution:</h4>
                                <pre><code># Create and set up virtual environment
make install-dev

# Verify virtual environment exists
ls -la .venv/</code></pre>
                            </div>
                        </div>

                        <div class="troubleshoot-item">
                            <h3 data-i18n="secure_installation.troubleshooting.database_title" data-i18n-html>üóÑÔ∏è Database Connection Issues</h3>
                            <p data-i18n="secure_installation.troubleshooting.database_problem" data-i18n-html><strong>Problem:</strong> Database connection failures during migration</p>
                            <div class="solution">
                                <h4 data-i18n="secure_installation.troubleshooting.database_solution_title" data-i18n-html>Solution:</h4>
                                <ul>
                                    <li data-i18n="secure_installation.troubleshooting.database_solution1" data-i18n-html>Verify PostgreSQL is running: <code>systemctl status postgresql</code></li>
                                    <li data-i18n="secure_installation.troubleshooting.database_solution2" data-i18n-html>Check database credentials in configuration file</li>
                                    <li data-i18n="secure_installation.troubleshooting.database_solution3" data-i18n-html>Ensure database user has CREATE privileges</li>
                                    <li data-i18n="secure_installation.troubleshooting.database_solution4" data-i18n-html>Test connection manually: <code>psql -h host -U user -d database</code></li>
                                </ul>
                            </div>
                        </div>

                        <div class="troubleshoot-item">
                            <h3 data-i18n="secure_installation.troubleshooting.openbao_title" data-i18n-html>üè¶ OpenBAO Installation Issues</h3>
                            <p data-i18n="secure_installation.troubleshooting.openbao_problem" data-i18n-html><strong>Problem:</strong> OpenBAO binary not found or initialization fails</p>
                            <div class="solution">
                                <h4 data-i18n="secure_installation.troubleshooting.openbao_solution_title" data-i18n-html>Solution:</h4>
                                <ul>
                                    <li data-i18n="secure_installation.troubleshooting.openbao_solution1" data-i18n-html>Install OpenBAO: <code>make install-dev</code> (includes OpenBAO)</li>
                                    <li data-i18n="secure_installation.troubleshooting.openbao_solution2" data-i18n-html>Manually install OpenBAO from official releases</li>
                                    <li data-i18n="secure_installation.troubleshooting.openbao_solution3" data-i18n-html>Check firewall settings for localhost connections</li>
                                    <li data-i18n="secure_installation.troubleshooting.openbao_solution4" data-i18n-html>Use <code>--skip-vault</code> flag to skip OpenBAO setup temporarily</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="secure_installation.post_installation.title" data-i18n-html>üéâ Post-Installation Steps</h2>
                    <p data-i18n="secure_installation.post_installation.description" data-i18n-html>After successful completion, your SysManage installation is production-ready with enterprise-grade security. Here's what to do next:</p>

                    <div class="post-install-checklist">
                        <h3 data-i18n="secure_installation.post_installation.checklist_title" data-i18n-html>‚úÖ Post-Installation Checklist</h3>
                        <ul class="checklist">
                            <li data-i18n="secure_installation.post_installation.check1" data-i18n-html>
                                <strong>Secure Credentials</strong>: Store the generated <code>.vault_credentials</code> file in a secure location
                            </li>
                            <li data-i18n="secure_installation.post_installation.check2" data-i18n-html>
                                <strong>Start Services</strong>: Use <code>make start</code> to launch all services
                            </li>
                            <li data-i18n="secure_installation.post_installation.check3" data-i18n-html>
                                <strong>Access Web Interface</strong>: Navigate to <code>https://your-server:8443</code>
                            </li>
                            <li data-i18n="secure_installation.post_installation.check4" data-i18n-html>
                                <strong>Login</strong>: Use the admin credentials you created during installation
                            </li>
                            <li data-i18n="secure_installation.post_installation.check5" data-i18n-html>
                                <strong>Deploy Agents</strong>: Install and approve SysManage agents on your infrastructure
                            </li>
                            <li data-i18n="secure_installation.post_installation.check6" data-i18n-html>
                                <strong>Upload Secrets</strong>: Begin using the secrets management features
                            </li>
                        </ul>
                    </div>

                    <div class="next-steps">
                        <h3 data-i18n="secure_installation.post_installation.next_title" data-i18n-html>üöÄ Next Steps</h3>
                        <ul>
                            <li><a href="../getting-started/index.html" data-i18n="secure_installation.post_installation.link1" data-i18n-html>Complete Getting Started Guide</a></li>
                            <li><a href="../security/secrets-management.html" data-i18n="secure_installation.post_installation.link2" data-i18n-html>Explore Secrets Management Features</a></li>
                            <li><a href="../agent/installation.html" data-i18n="secure_installation.post_installation.link3" data-i18n-html>Install and Configure Agents</a></li>
                            <li><a href="../security/best-practices.html" data-i18n="secure_installation.post_installation.link4" data-i18n-html>Review Security Best Practices</a></li>
                        </ul>
                    </div>
                </section>

                <div class="docs-footer">
                    <div class="docs-navigation">
                        <h3 data-i18n="navigation.title" data-i18n-html>Quick Navigation</h3>
                        <div class="nav-links">
                            <a href="installation.html" class="nav-link" data-i18n="navigation.server_installation" data-i18n-html>‚Üê Server Installation</a>
                            <a href="configuration.html" class="nav-link" data-i18n="navigation.server_configuration" data-i18n-html>Server Configuration ‚Üí</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 SysManage. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/i18n.js"></script>
    <script src="../../assets/js/navbar.js"></script>
    <script src="../../assets/js/main.js"></script>
    </body>
</html>