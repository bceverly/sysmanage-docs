<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="docs.admin.firewall.title" data-i18n-html>Firewall Management - SysManage Administration</title>
    <meta name="description" content="Complete guide to deploying, managing, and monitoring firewall software across your infrastructure with SysManage." data-i18n-attr="content" data-i18n="docs.admin.firewall.meta_description" data-i18n-html>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
</head>
<body data-auto-header="documentation" data-auto-footer>
    <!-- Header injected automatically by components.js -->

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="docs.breadcrumb.documentation" data-i18n-html>Documentation</a> > <a href="./" data-i18n="docs.breadcrumb.administration" data-i18n-html>Administration</a> > <span data-i18n="docs.admin.firewall.breadcrumb" data-i18n-html>Firewall Management</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="docs.admin.firewall.header.title" data-i18n-html>Firewall Management</h1>
                <p data-i18n="docs.admin.firewall.header.subtitle" data-i18n-html>Comprehensive guide to deploying, configuring, and managing firewall software across your infrastructure with real-time monitoring and control.</p>
            </div>

            <div class="docs-content">
                <section class="overview">
                    <h2 data-i18n="docs.admin.firewall.overview.title" data-i18n-html>Overview</h2>
                    <p data-i18n="docs.admin.firewall.overview.description" data-i18n-html>SysManage provides centralized management of firewall software across all supported platforms. The platform automates deployment, enables real-time monitoring of firewall status, and provides tools to enable, disable, restart, or deploy firewall software remotely.</p>

                    <div class="feature-highlights">
                        <h3 data-i18n="docs.admin.firewall.overview.key_features" data-i18n-html>Key Features</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.overview.features.cross_platform" data-i18n-html><strong>Cross-Platform Support:</strong> Manage firewalls on Linux, BSD, macOS, and Windows systems</li>
                            <li data-i18n="docs.admin.firewall.overview.features.auto_detection" data-i18n-html><strong>Automatic Detection:</strong> Agents automatically detect and report firewall software status</li>
                            <li data-i18n="docs.admin.firewall.overview.features.remote_deployment" data-i18n-html><strong>Remote Deployment:</strong> Deploy firewall software from the web interface with one click</li>
                            <li data-i18n="docs.admin.firewall.overview.features.service_control" data-i18n-html><strong>Service Control:</strong> Enable, disable, or restart firewall services remotely</li>
                            <li data-i18n="docs.admin.firewall.overview.features.port_monitoring" data-i18n-html><strong>Port Monitoring:</strong> Real-time monitoring of open ports and firewall rules</li>
                            <li data-i18n="docs.admin.firewall.overview.features.realtime_status" data-i18n-html><strong>Real-time Status:</strong> Monitor firewall status, enabled/disabled state, and port configuration</li>
                            <li data-i18n="docs.admin.firewall.overview.features.agent_protection" data-i18n-html><strong>Agent Protection:</strong> Automatically opens required ports for agent communication when enabling firewall</li>
                        </ul>
                    </div>
                </section>

                <section class="supported-firewalls">
                    <h2 data-i18n="docs.admin.firewall.supported.title" data-i18n-html>Supported Firewall Software by Platform</h2>

                    <div class="platform-section">
                        <h3 data-i18n="docs.admin.firewall.supported.linux.title" data-i18n-html>Linux Systems</h3>
                        <p data-i18n="docs.admin.firewall.supported.linux.description" data-i18n-html>SysManage supports the following firewall solutions on Linux:</p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.linux.ufw" data-i18n-html><strong>UFW (Uncomplicated Firewall)</strong> - User-friendly firewall frontend for iptables on Ubuntu/Debian systems</li>
                            <li data-i18n="docs.admin.firewall.supported.linux.firewalld" data-i18n-html><strong>firewalld</strong> - Dynamic firewall management tool for RHEL, CentOS, Fedora, and openSUSE</li>
                            <li data-i18n="docs.admin.firewall.supported.linux.iptables" data-i18n-html><strong>iptables</strong> - Legacy netfilter firewall for Linux systems</li>
                            <li data-i18n="docs.admin.firewall.supported.linux.nftables" data-i18n-html><strong>nftables</strong> - Modern packet filtering framework replacing iptables</li>
                        </ul>

                        <h4 data-i18n="docs.admin.firewall.supported.linux.distros" data-i18n-html>Distribution-Specific Details</h4>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.linux.ubuntu_debian" data-i18n-html><strong>Ubuntu/Debian:</strong> UFW (default), iptables, nftables</li>
                            <li data-i18n="docs.admin.firewall.supported.linux.rhel_centos_fedora" data-i18n-html><strong>RHEL/CentOS/Fedora:</strong> firewalld (default), iptables</li>
                            <li data-i18n="docs.admin.firewall.supported.linux.opensuse" data-i18n-html><strong>openSUSE:</strong> firewalld (default), iptables</li>
                        </ul>
                    </div>

                    <div class="platform-section">
                        <h3 data-i18n="docs.admin.firewall.supported.bsd.title" data-i18n-html>BSD Systems</h3>
                        <p data-i18n="docs.admin.firewall.supported.bsd.description" data-i18n-html>BSD platforms support multiple firewall frameworks:</p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.bsd.freebsd" data-i18n-html><strong>FreeBSD:</strong> IPFW (default), PF (Packet Filter)</li>
                            <li data-i18n="docs.admin.firewall.supported.bsd.openbsd" data-i18n-html><strong>OpenBSD:</strong> PF (Packet Filter - default)</li>
                            <li data-i18n="docs.admin.firewall.supported.bsd.netbsd" data-i18n-html><strong>NetBSD:</strong> NPF (NetBSD Packet Filter - default), PF</li>
                        </ul>

                        <h4 data-i18n="docs.admin.firewall.supported.bsd.details" data-i18n-html>BSD Firewall Details</h4>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.bsd.ipfw" data-i18n-html><strong>IPFW:</strong> FreeBSD's stateful firewall with flexible rule syntax</li>
                            <li data-i18n="docs.admin.firewall.supported.bsd.pf" data-i18n-html><strong>PF:</strong> OpenBSD's sophisticated packet filter available on all BSD variants</li>
                            <li data-i18n="docs.admin.firewall.supported.bsd.npf" data-i18n-html><strong>NPF:</strong> NetBSD's modern, efficient packet filter designed for scalability</li>
                        </ul>
                    </div>

                    <div class="platform-section">
                        <h3 data-i18n="docs.admin.firewall.supported.macos.title" data-i18n-html>macOS</h3>
                        <p data-i18n="docs.admin.firewall.supported.macos.description" data-i18n-html>macOS supports multiple firewall options:</p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.macos.pf" data-i18n-html><strong>PF (Packet Filter):</strong> OpenBSD's packet filter ported to macOS</li>
                            <li data-i18n="docs.admin.firewall.supported.macos.app_firewall" data-i18n-html><strong>Application Firewall:</strong> macOS built-in application-level firewall</li>
                        </ul>
                    </div>

                    <div class="platform-section">
                        <h3 data-i18n="docs.admin.firewall.supported.windows.title" data-i18n-html>Windows</h3>
                        <p data-i18n="docs.admin.firewall.supported.windows.description" data-i18n-html>Windows supports Windows Defender Firewall:</p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.supported.windows.defender" data-i18n-html><strong>Windows Defender Firewall:</strong> Integrated host-based firewall with advanced security features</li>
                            <li data-i18n="docs.admin.firewall.supported.windows.profiles" data-i18n-html>Support for Domain, Private, and Public network profiles</li>
                            <li data-i18n="docs.admin.firewall.supported.windows.rules" data-i18n-html>Inbound and outbound rule management via PowerShell and netsh</li>
                        </ul>
                    </div>
                </section>

                <section class="operations">
                    <h2 data-i18n="docs.admin.firewall.operations.title" data-i18n-html>Firewall Operations</h2>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.operations.deploy.title" data-i18n-html>Deploy Firewall</h3>
                        <p data-i18n="docs.admin.firewall.operations.deploy.description" data-i18n-html>The Deploy Firewall operation installs and configures firewall software on hosts that don't have it installed or enabled.</p>

                        <h4 data-i18n="docs.admin.firewall.operations.deploy.steps_title" data-i18n-html>Deploy via Web Interface</h4>
                        <ol>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step1" data-i18n-html>Navigate to the host detail page for the target system</li>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step2" data-i18n-html>Locate the Firewall Status card</li>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step3" data-i18n-html>Click the <strong>Deploy Firewall</strong> button</li>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step4" data-i18n-html>SysManage will automatically detect the appropriate firewall for the OS</li>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step5" data-i18n-html>The agent installs the firewall package and configures initial rules</li>
                            <li data-i18n="docs.admin.firewall.operations.deploy.step6" data-i18n-html>Agent communication ports are automatically opened to prevent lockout</li>
                        </ol>

                        <div class="info-box">
                            <h5 data-i18n="docs.admin.firewall.operations.deploy.automatic_ports_title" data-i18n-html>Automatic Port Configuration</h5>
                            <p data-i18n="docs.admin.firewall.operations.deploy.automatic_ports_description" data-i18n-html>When deploying or enabling a firewall, SysManage automatically opens the following ports:</p>
                            <ul>
                                <li data-i18n="docs.admin.firewall.operations.deploy.port_ssh" data-i18n-html><strong>Port 22 (SSH):</strong> Always opened for system administration</li>
                                <li data-i18n="docs.admin.firewall.operations.deploy.port_agent" data-i18n-html><strong>Agent Communication Port:</strong> Dynamically determined from agent configuration</li>
                                <li data-i18n="docs.admin.firewall.operations.deploy.port_server" data-i18n-html><strong>Server Ports (if applicable):</strong> Opened if SysManage server is detected on the host</li>
                            </ul>
                        </div>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.operations.enable.title" data-i18n-html>Enable Firewall</h3>
                        <p data-i18n="docs.admin.firewall.operations.enable.description" data-i18n-html>The Enable Firewall operation starts the firewall service on a host where firewall software is installed but disabled.</p>

                        <h4 data-i18n="docs.admin.firewall.operations.enable.steps_title" data-i18n-html>Enable via Web Interface</h4>
                        <ol>
                            <li data-i18n="docs.admin.firewall.operations.enable.step1" data-i18n-html>Navigate to the host detail page</li>
                            <li data-i18n="docs.admin.firewall.operations.enable.step2" data-i18n-html>Click the <strong>Enable Firewall</strong> button in the Firewall Status card</li>
                            <li data-i18n="docs.admin.firewall.operations.enable.step3" data-i18n-html>The firewall service will start and required ports will be opened</li>
                            <li data-i18n="docs.admin.firewall.operations.enable.step4" data-i18n-html>Firewall status will update to "Enabled" in real-time</li>
                        </ol>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.operations.disable.title" data-i18n-html>Disable Firewall</h3>
                        <p data-i18n="docs.admin.firewall.operations.disable.description" data-i18n-html>The Disable Firewall operation stops the firewall service, allowing all traffic through the host.</p>

                        <h4 data-i18n="docs.admin.firewall.operations.disable.steps_title" data-i18n-html>Disable via Web Interface</h4>
                        <ol>
                            <li data-i18n="docs.admin.firewall.operations.disable.step1" data-i18n-html>Navigate to the host detail page</li>
                            <li data-i18n="docs.admin.firewall.operations.disable.step2" data-i18n-html>Click the <strong>Disable Firewall</strong> button in the Firewall Status card</li>
                            <li data-i18n="docs.admin.firewall.operations.disable.step3" data-i18n-html>The firewall service will stop</li>
                            <li data-i18n="docs.admin.firewall.operations.disable.step4" data-i18n-html>Firewall status will update to "Disabled" in real-time</li>
                        </ol>

                        <div class="warning-box">
                            <h5 data-i18n="docs.admin.firewall.operations.disable.warning_title" data-i18n-html>Security Warning</h5>
                            <p data-i18n="docs.admin.firewall.operations.disable.warning_description" data-i18n-html>Disabling the firewall removes network protection and exposes all services to the network. Only disable firewalls in controlled environments or when troubleshooting network connectivity issues.</p>
                        </div>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.operations.restart.title" data-i18n-html>Restart Firewall</h3>
                        <p data-i18n="docs.admin.firewall.operations.restart.description" data-i18n-html>The Restart Firewall operation stops and starts the firewall service, reloading configuration and rules.</p>

                        <h4 data-i18n="docs.admin.firewall.operations.restart.steps_title" data-i18n-html>Restart via Web Interface</h4>
                        <ol>
                            <li data-i18n="docs.admin.firewall.operations.restart.step1" data-i18n-html>Navigate to the host detail page</li>
                            <li data-i18n="docs.admin.firewall.operations.restart.step2" data-i18n-html>Click the <strong>Restart Firewall</strong> button in the Firewall Status card</li>
                            <li data-i18n="docs.admin.firewall.operations.restart.step3" data-i18n-html>The firewall service will restart and reload all rules</li>
                            <li data-i18n="docs.admin.firewall.operations.restart.step4" data-i18n-html>Use this after manually modifying firewall configuration files</li>
                        </ol>
                    </div>
                </section>

                <section class="firewall-roles">
                    <h2 data-i18n="docs.admin.firewall.roles.title" data-i18n-html>Firewall Roles</h2>
                    <p data-i18n="docs.admin.firewall.roles.description" data-i18n-html>Firewall Roles provide centralized, reusable firewall configurations that can be assigned to multiple hosts. Define port requirements once and apply them consistently across your infrastructure.</p>

                    <div class="feature-highlights">
                        <h3 data-i18n="docs.admin.firewall.roles.benefits_title" data-i18n-html>Key Benefits</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.roles.benefit1" data-i18n-html><strong>Centralized Management:</strong> Define firewall rules in one place and apply to many hosts</li>
                            <li data-i18n="docs.admin.firewall.roles.benefit2" data-i18n-html><strong>Consistency:</strong> Ensure all hosts with the same role have identical firewall configurations</li>
                            <li data-i18n="docs.admin.firewall.roles.benefit3" data-i18n-html><strong>Reusability:</strong> Create roles for common server types (web server, database, etc.) and reuse them</li>
                            <li data-i18n="docs.admin.firewall.roles.benefit4" data-i18n-html><strong>Protocol Control:</strong> Configure TCP and/or UDP for each port independently</li>
                            <li data-i18n="docs.admin.firewall.roles.benefit5" data-i18n-html><strong>IP Version Support:</strong> Configure IPv4 and/or IPv6 rules separately</li>
                            <li data-i18n="docs.admin.firewall.roles.benefit6" data-i18n-html><strong>Common Ports:</strong> Quick selection of well-known ports (SSH, HTTP, HTTPS, etc.)</li>
                        </ul>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.roles.creating_title" data-i18n-html>Creating a Firewall Role</h3>
                        <p data-i18n="docs.admin.firewall.roles.creating_description" data-i18n-html>Create firewall roles to define sets of ports that should be open for specific types of servers.</p>
                        <ol>
                            <li data-i18n="docs.admin.firewall.roles.creating_step1" data-i18n-html>Navigate to Administration in the main menu</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step2" data-i18n-html>Select Firewall Roles from the submenu</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step3" data-i18n-html>Click the <strong>Create Role</strong> button</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step4" data-i18n-html>Enter a descriptive name for the role (e.g., "Web Server", "Database Server")</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step5" data-i18n-html>Add ports using either the common ports dropdown or by entering custom port numbers</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step6" data-i18n-html>For each port, select the protocol (TCP, UDP, or both) and IP version (IPv4, IPv6, or both)</li>
                            <li data-i18n="docs.admin.firewall.roles.creating_step7" data-i18n-html>Click <strong>Save</strong> to create the role</li>
                        </ol>

                        <div class="info-box">
                            <h5 data-i18n="docs.admin.firewall.roles.common_ports_title" data-i18n-html>Common Ports Available</h5>
                            <p data-i18n="docs.admin.firewall.roles.common_ports_description" data-i18n-html>The common ports dropdown includes frequently used services:</p>
                            <ul>
                                <li data-i18n="docs.admin.firewall.roles.common_port_ssh" data-i18n-html><strong>SSH (22):</strong> Secure shell access</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_http" data-i18n-html><strong>HTTP (80):</strong> Web traffic</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_https" data-i18n-html><strong>HTTPS (443):</strong> Secure web traffic</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_dns" data-i18n-html><strong>DNS (53):</strong> Domain name resolution</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_mysql" data-i18n-html><strong>MySQL (3306):</strong> MySQL database</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_postgresql" data-i18n-html><strong>PostgreSQL (5432):</strong> PostgreSQL database</li>
                                <li data-i18n="docs.admin.firewall.roles.common_port_more" data-i18n-html>And many more including SMTP, IMAP, Redis, MongoDB, RDP, VNC, NTP, SNMP, OpenVPN, and WireGuard</li>
                            </ul>
                        </div>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.roles.assigning_title" data-i18n-html>Assigning Roles to Hosts</h3>
                        <p data-i18n="docs.admin.firewall.roles.assigning_description" data-i18n-html>Once a firewall role is created, assign it to hosts to apply the firewall configuration.</p>
                        <ol>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step1" data-i18n-html>Navigate to the host detail page for the target system</li>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step2" data-i18n-html>Locate the Firewall Roles card</li>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step3" data-i18n-html>Click <strong>Add Role</strong></li>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step4" data-i18n-html>Select the desired firewall role from the dropdown</li>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step5" data-i18n-html>Click <strong>Assign</strong> to apply the role</li>
                            <li data-i18n="docs.admin.firewall.roles.assigning_step6" data-i18n-html>The ports defined in the role will be opened on the host's firewall</li>
                        </ol>

                        <div class="info-box">
                            <h5 data-i18n="docs.admin.firewall.roles.multiple_roles_title" data-i18n-html>Multiple Roles</h5>
                            <p data-i18n="docs.admin.firewall.roles.multiple_roles_description" data-i18n-html>A host can have multiple firewall roles assigned. All ports from all assigned roles will be opened. Duplicate ports are handled automatically.</p>
                        </div>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.roles.removing_title" data-i18n-html>Removing Roles from Hosts</h3>
                        <p data-i18n="docs.admin.firewall.roles.removing_description" data-i18n-html>When a firewall role is removed from a host, the ports defined in that role are closed.</p>
                        <ol>
                            <li data-i18n="docs.admin.firewall.roles.removing_step1" data-i18n-html>Navigate to the host detail page</li>
                            <li data-i18n="docs.admin.firewall.roles.removing_step2" data-i18n-html>Locate the assigned role in the Firewall Roles card</li>
                            <li data-i18n="docs.admin.firewall.roles.removing_step3" data-i18n-html>Click the <strong>Remove</strong> button next to the role</li>
                            <li data-i18n="docs.admin.firewall.roles.removing_step4" data-i18n-html>Confirm the removal when prompted</li>
                            <li data-i18n="docs.admin.firewall.roles.removing_step5" data-i18n-html>The ports from that role will be removed from the host's firewall</li>
                        </ol>

                        <div class="warning-box">
                            <h5 data-i18n="docs.admin.firewall.roles.removing_warning_title" data-i18n-html>Protected Ports</h5>
                            <p data-i18n="docs.admin.firewall.roles.removing_warning_description" data-i18n-html>SSH (port 22) and agent communication ports are always preserved to prevent lockout, even when removing firewall roles.</p>
                        </div>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.roles.example_title" data-i18n-html>Example: Web Server Role</h3>
                        <p data-i18n="docs.admin.firewall.roles.example_description" data-i18n-html>A typical web server firewall role might include:</p>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th data-i18n="docs.admin.firewall.roles.table_port" data-i18n-html>Port</th>
                                    <th data-i18n="docs.admin.firewall.roles.table_service" data-i18n-html>Service</th>
                                    <th data-i18n="docs.admin.firewall.roles.table_protocol" data-i18n-html>Protocol</th>
                                    <th data-i18n="docs.admin.firewall.roles.table_ip_version" data-i18n-html>IP Version</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>80</td>
                                    <td data-i18n="docs.admin.firewall.roles.example_http" data-i18n-html>HTTP</td>
                                    <td>TCP</td>
                                    <td data-i18n="docs.admin.firewall.roles.example_both" data-i18n-html>IPv4 + IPv6</td>
                                </tr>
                                <tr>
                                    <td>443</td>
                                    <td data-i18n="docs.admin.firewall.roles.example_https" data-i18n-html>HTTPS</td>
                                    <td>TCP</td>
                                    <td data-i18n="docs.admin.firewall.roles.example_both" data-i18n-html>IPv4 + IPv6</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="operation-section">
                        <h3 data-i18n="docs.admin.firewall.roles.platform_support_title" data-i18n-html>Platform Support</h3>
                        <p data-i18n="docs.admin.firewall.roles.platform_support_description" data-i18n-html>Firewall roles are supported on all platforms:</p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.roles.platform_linux" data-i18n-html><strong>Linux:</strong> UFW (Ubuntu/Debian), firewalld (RHEL/CentOS/Fedora)</li>
                            <li data-i18n="docs.admin.firewall.roles.platform_bsd" data-i18n-html><strong>BSD:</strong> PF (OpenBSD/FreeBSD), IPFW (FreeBSD), NPF (NetBSD)</li>
                            <li data-i18n="docs.admin.firewall.roles.platform_macos" data-i18n-html><strong>macOS:</strong> PF (Packet Filter)</li>
                            <li data-i18n="docs.admin.firewall.roles.platform_windows" data-i18n-html><strong>Windows:</strong> Windows Defender Firewall</li>
                        </ul>
                    </div>
                </section>

                <section class="status-monitoring">
                    <h2 data-i18n="docs.admin.firewall.monitoring.title" data-i18n-html>Firewall Status Monitoring</h2>
                    <p data-i18n="docs.admin.firewall.monitoring.description" data-i18n-html>The Firewall Status card on each host detail page provides real-time information about the firewall configuration.</p>

                    <h3 data-i18n="docs.admin.firewall.monitoring.displayed_info_title" data-i18n-html>Displayed Information</h3>
                    <ul>
                        <li data-i18n="docs.admin.firewall.monitoring.info.firewall_name" data-i18n-html><strong>Firewall Name:</strong> The detected firewall software (e.g., ufw, firewalld, IPFW, PF, NPF, Windows Defender Firewall)</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.status" data-i18n-html><strong>Status:</strong> Enabled or Disabled</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.tcp_ports" data-i18n-html><strong>TCP Open Ports:</strong> List of TCP ports with active allow rules</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.udp_ports" data-i18n-html><strong>UDP Open Ports:</strong> List of UDP ports with active allow rules</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.ipv4_ports" data-i18n-html><strong>IPv4 Ports:</strong> Ports configured for IPv4 traffic</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.ipv6_ports" data-i18n-html><strong>IPv6 Ports:</strong> Ports configured for IPv6 traffic</li>
                        <li data-i18n="docs.admin.firewall.monitoring.info.last_updated" data-i18n-html><strong>Last Updated:</strong> Timestamp of the last status update from the agent</li>
                    </ul>

                    <h3 data-i18n="docs.admin.firewall.monitoring.automatic_updates_title" data-i18n-html>Automatic Status Updates</h3>
                    <p data-i18n="docs.admin.firewall.monitoring.automatic_updates_description" data-i18n-html>The agent automatically collects firewall status and sends updates to the server:</p>
                    <ul>
                        <li data-i18n="docs.admin.firewall.monitoring.updates.periodic" data-i18n-html>Periodic collection as part of regular system metrics gathering</li>
                        <li data-i18n="docs.admin.firewall.monitoring.updates.after_operations" data-i18n-html>Immediate update after deploy, enable, disable, or restart operations</li>
                        <li data-i18n="docs.admin.firewall.monitoring.updates.realtime_display" data-i18n-html>Real-time display updates via WebSocket communication</li>
                    </ul>
                </section>

                <section class="security-rbac">
                    <h2 data-i18n="docs.admin.firewall.security.title" data-i18n-html>Security and Access Control</h2>
                    <p data-i18n="docs.admin.firewall.security.description" data-i18n-html>Firewall management operations are protected by role-based access control (RBAC). Users must have specific security roles to perform firewall operations.</p>

                    <h3 data-i18n="docs.admin.firewall.security.required_roles_title" data-i18n-html>Required Security Roles</h3>
                    <ul>
                        <li data-i18n="docs.admin.firewall.security.role_deploy" data-i18n-html><strong>DEPLOY_FIREWALL:</strong> Required to deploy firewall software to hosts</li>
                        <li data-i18n="docs.admin.firewall.security.role_enable" data-i18n-html><strong>ENABLE_FIREWALL:</strong> Required to enable firewall services</li>
                        <li data-i18n="docs.admin.firewall.security.role_disable" data-i18n-html><strong>DISABLE_FIREWALL:</strong> Required to disable firewall services</li>
                        <li data-i18n="docs.admin.firewall.security.role_restart" data-i18n-html><strong>RESTART_FIREWALL:</strong> Required to restart firewall services</li>
                        <li data-i18n="docs.admin.firewall.security.role_view" data-i18n-html><strong>VIEW_FIREWALL_STATUS:</strong> Required to view firewall status (automatically granted with any firewall role)</li>
                    </ul>

                    <h3 data-i18n="docs.admin.firewall.security.role_assignment_title" data-i18n-html>Assigning Firewall Roles</h3>
                    <p data-i18n="docs.admin.firewall.security.role_assignment_description" data-i18n-html>Administrators can assign firewall roles to users through the user management interface:</p>
                    <ol>
                        <li data-i18n="docs.admin.firewall.security.assignment_step1" data-i18n-html>Navigate to Administration â†’ User Management</li>
                        <li data-i18n="docs.admin.firewall.security.assignment_step2" data-i18n-html>Select the user to modify</li>
                        <li data-i18n="docs.admin.firewall.security.assignment_step3" data-i18n-html>Click Edit Roles</li>
                        <li data-i18n="docs.admin.firewall.security.assignment_step4" data-i18n-html>Select the appropriate firewall management roles</li>
                        <li data-i18n="docs.admin.firewall.security.assignment_step5" data-i18n-html>Save changes</li>
                    </ol>
                </section>

                <section class="architecture">
                    <h2 data-i18n="docs.admin.firewall.architecture.title" data-i18n-html>Technical Architecture</h2>

                    <h3 data-i18n="docs.admin.firewall.architecture.components_title" data-i18n-html>System Components</h3>

                    <h4 data-i18n="docs.admin.firewall.architecture.server_title" data-i18n-html>Server Components</h4>
                    <ul>
                        <li data-i18n="docs.admin.firewall.architecture.server_api" data-i18n-html><strong>Firewall Status API</strong> (<code>backend/api/firewall_status.py</code>): REST endpoints for firewall operations</li>
                        <li data-i18n="docs.admin.firewall.architecture.server_models" data-i18n-html><strong>Database Models</strong> (<code>backend/persistence/models/core.py</code>): FirewallStatus table for storing firewall state</li>
                        <li data-i18n="docs.admin.firewall.architecture.server_queue" data-i18n-html><strong>Message Queue</strong>: Queues firewall commands for delivery to agents</li>
                    </ul>

                    <h4 data-i18n="docs.admin.firewall.architecture.agent_title" data-i18n-html>Agent Components</h4>
                    <ul>
                        <li data-i18n="docs.admin.firewall.architecture.agent_operations" data-i18n-html><strong>Firewall Operations</strong> (<code>src/sysmanage_agent/operations/firewall_operations.py</code>): Main orchestrator</li>
                        <li data-i18n="docs.admin.firewall.architecture.agent_os_specific" data-i18n-html><strong>OS-Specific Implementations:</strong></li>
                        <ul>
                            <li data-i18n="docs.admin.firewall.architecture.agent_linux" data-i18n-html><code>firewall_linux.py</code>: UFW, firewalld, iptables, nftables</li>
                            <li data-i18n="docs.admin.firewall.architecture.agent_bsd" data-i18n-html><code>firewall_bsd.py</code>: IPFW, PF, NPF</li>
                            <li data-i18n="docs.admin.firewall.architecture.agent_macos" data-i18n-html><code>firewall_macos.py</code>: PF, Application Firewall</li>
                            <li data-i18n="docs.admin.firewall.architecture.agent_windows" data-i18n-html><code>firewall_windows.py</code>: Windows Defender Firewall</li>
                        </ul>
                        <li data-i18n="docs.admin.firewall.architecture.agent_collector" data-i18n-html><strong>Firewall Collector</strong> (<code>src/sysmanage_agent/operations/firewall_collector.py</code>): Detects and parses firewall status</li>
                    </ul>

                    <h3 data-i18n="docs.admin.firewall.architecture.message_flow_title" data-i18n-html>Message Flow</h3>
                    <ol>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step1" data-i18n-html>User clicks firewall button in web interface</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step2" data-i18n-html>Frontend sends REST API request to server</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step3" data-i18n-html>Server validates user permissions (RBAC check)</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step4" data-i18n-html>Server enqueues firewall command message for agent</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step5" data-i18n-html>Agent retrieves command from outbound message queue</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step6" data-i18n-html>Agent executes OS-specific firewall operation</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step7" data-i18n-html>Agent collects updated firewall status</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step8" data-i18n-html>Agent sends status update to server via inbound queue</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step9" data-i18n-html>Server updates FirewallStatus database table</li>
                        <li data-i18n="docs.admin.firewall.architecture.flow_step10" data-i18n-html>Frontend receives real-time update via WebSocket</li>
                    </ol>
                </section>

                <section class="troubleshooting">
                    <h2 data-i18n="docs.admin.firewall.troubleshooting.title" data-i18n-html>Troubleshooting</h2>

                    <div class="troubleshooting-item">
                        <h3 data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_title" data-i18n-html>Firewall Not Detected</h3>
                        <p data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_symptoms" data-i18n-html><strong>Symptoms:</strong> Firewall Status card shows "No firewall detected"</p>
                        <p data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_solutions_title" data-i18n-html><strong>Solutions:</strong></p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_solution1" data-i18n-html>Click "Deploy Firewall" to install firewall software automatically</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_solution2" data-i18n-html>Verify the agent has privileges to detect firewall status</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.no_firewall_detected_solution3" data-i18n-html>Check agent logs for firewall detection errors</li>
                        </ul>
                    </div>

                    <div class="troubleshooting-item">
                        <h3 data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_title" data-i18n-html>Deploy Firewall Fails</h3>
                        <p data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_symptoms" data-i18n-html><strong>Symptoms:</strong> Deploy operation returns error or times out</p>
                        <p data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_solutions_title" data-i18n-html><strong>Solutions:</strong></p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_solution1" data-i18n-html>Verify the agent is running with elevated privileges (root/Administrator)</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_solution2" data-i18n-html>Check network connectivity to package repositories</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_solution3" data-i18n-html>Review agent logs for detailed error messages</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.deploy_fails_solution4" data-i18n-html>Ensure package manager is functioning (apt, yum, dnf, pkg, etc.)</li>
                        </ul>
                    </div>

                    <div class="troubleshooting-item">
                        <h3 data-i18n="docs.admin.firewall.troubleshooting.locked_out_title" data-i18n-html>Locked Out After Enabling Firewall</h3>
                        <p data-i18n="docs.admin.firewall.troubleshooting.locked_out_symptoms" data-i18n-html><strong>Symptoms:</strong> Cannot connect to agent after enabling firewall</p>
                        <p data-i18n="docs.admin.firewall.troubleshooting.locked_out_solutions_title" data-i18n-html><strong>Solutions:</strong></p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.troubleshooting.locked_out_solution1" data-i18n-html>This should not happen - agent automatically opens required ports</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.locked_out_solution2" data-i18n-html>Access host via console or out-of-band management</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.locked_out_solution3" data-i18n-html>Manually disable firewall and check agent configuration</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.locked_out_solution4" data-i18n-html>Verify agent port configuration matches firewall rules</li>
                        </ul>
                    </div>

                    <div class="troubleshooting-item">
                        <h3 data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_title" data-i18n-html>Status Not Updating</h3>
                        <p data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_symptoms" data-i18n-html><strong>Symptoms:</strong> Firewall Status card shows stale or incorrect information</p>
                        <p data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_solutions_title" data-i18n-html><strong>Solutions:</strong></p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_solution1" data-i18n-html>Click "Request Host Data" to force immediate status collection</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_solution2" data-i18n-html>Check agent connectivity to server</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_solution3" data-i18n-html>Review agent logs for errors during status collection</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.status_not_updating_solution4" data-i18n-html>Verify WebSocket connection is active (check browser console)</li>
                        </ul>
                    </div>

                    <div class="troubleshooting-item">
                        <h3 data-i18n="docs.admin.firewall.troubleshooting.permission_denied_title" data-i18n-html>Permission Denied Errors</h3>
                        <p data-i18n="docs.admin.firewall.troubleshooting.permission_denied_symptoms" data-i18n-html><strong>Symptoms:</strong> Button is disabled or operation returns "Permission denied"</p>
                        <p data-i18n="docs.admin.firewall.troubleshooting.permission_denied_solutions_title" data-i18n-html><strong>Solutions:</strong></p>
                        <ul>
                            <li data-i18n="docs.admin.firewall.troubleshooting.permission_denied_solution1" data-i18n-html>Verify your user account has the required firewall security role</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.permission_denied_solution2" data-i18n-html>Contact administrator to request firewall management permissions</li>
                            <li data-i18n="docs.admin.firewall.troubleshooting.permission_denied_solution3" data-i18n-html>Check that role assignments have been saved and user session refreshed</li>
                        </ul>
                    </div>
                </section>

                <section class="best-practices">
                    <h2 data-i18n="docs.admin.firewall.best_practices.title" data-i18n-html>Best Practices</h2>

                    <div class="practice-category">
                        <h3 data-i18n="docs.admin.firewall.best_practices.deployment_title" data-i18n-html>Firewall Deployment</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.best_practices.deployment_practice1" data-i18n-html>Test firewall deployment on non-production hosts first</li>
                            <li data-i18n="docs.admin.firewall.best_practices.deployment_practice2" data-i18n-html>Ensure you have alternate access (console, IPMI) before enabling firewalls on remote hosts</li>
                            <li data-i18n="docs.admin.firewall.best_practices.deployment_practice3" data-i18n-html>Document custom port requirements before deployment</li>
                            <li data-i18n="docs.admin.firewall.best_practices.deployment_practice4" data-i18n-html>Use gradual rollout for firewall deployment across large infrastructures</li>
                        </ul>
                    </div>

                    <div class="practice-category">
                        <h3 data-i18n="docs.admin.firewall.best_practices.configuration_title" data-i18n-html>Configuration Management</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.best_practices.configuration_practice1" data-i18n-html>Regularly review and audit firewall rules</li>
                            <li data-i18n="docs.admin.firewall.best_practices.configuration_practice2" data-i18n-html>Use restart operation after manual configuration changes</li>
                            <li data-i18n="docs.admin.firewall.best_practices.configuration_practice3" data-i18n-html>Document all manual firewall rule modifications</li>
                            <li data-i18n="docs.admin.firewall.best_practices.configuration_practice4" data-i18n-html>Implement firewall configuration as code where possible</li>
                        </ul>
                    </div>

                    <div class="practice-category">
                        <h3 data-i18n="docs.admin.firewall.best_practices.security_title" data-i18n-html>Security Practices</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.best_practices.security_practice1" data-i18n-html>Grant firewall management roles only to trusted administrators</li>
                            <li data-i18n="docs.admin.firewall.best_practices.security_practice2" data-i18n-html>Monitor firewall disable operations in security logs</li>
                            <li data-i18n="docs.admin.firewall.best_practices.security_practice3" data-i18n-html>Implement alerts for firewall status changes</li>
                            <li data-i18n="docs.admin.firewall.best_practices.security_practice4" data-i18n-html>Regularly verify firewall status matches security policy</li>
                            <li data-i18n="docs.admin.firewall.best_practices.security_practice5" data-i18n-html>Use principle of least privilege when opening ports</li>
                        </ul>
                    </div>

                    <div class="practice-category">
                        <h3 data-i18n="docs.admin.firewall.best_practices.monitoring_title" data-i18n-html>Monitoring and Maintenance</h3>
                        <ul>
                            <li data-i18n="docs.admin.firewall.best_practices.monitoring_practice1" data-i18n-html>Set up alerts for hosts with disabled firewalls</li>
                            <li data-i18n="docs.admin.firewall.best_practices.monitoring_practice2" data-i18n-html>Regularly review open ports across your infrastructure</li>
                            <li data-i18n="docs.admin.firewall.best_practices.monitoring_practice3" data-i18n-html>Verify firewall status as part of security audits</li>
                            <li data-i18n="docs.admin.firewall.best_practices.monitoring_practice4" data-i18n-html>Monitor for unexpected firewall status changes</li>
                        </ul>
                    </div>
                </section>

                <section class="related-documentation">
                    <h2 data-i18n="docs.admin.firewall.related.title" data-i18n-html>Related Documentation</h2>
                    <ul>
                        <li><a href="../security/network-security.html" data-i18n="docs.admin.firewall.related.network_security" data-i18n-html>Network Security Best Practices</a></li>
                        <li><a href="../security/rbac.html" data-i18n="docs.admin.firewall.related.rbac" data-i18n-html>Role-Based Access Control (RBAC)</a></li>
                        <li><a href="host-management.html" data-i18n="docs.admin.firewall.related.host_management" data-i18n-html>Host Management</a></li>
                        <li><a href="../agent/privileged-execution.html" data-i18n="docs.admin.firewall.related.privileged_execution" data-i18n-html>Agent Privileged Execution</a></li>
                        <li><a href="../architecture/message-flow.html" data-i18n="docs.admin.firewall.related.message_flow" data-i18n-html>Message Flow Architecture</a></li>
                    </ul>
                </section>
            </div>

            <div class="docs-footer">
                <div class="docs-navigation">
                    <h3 data-i18n="docs.admin.firewall.navigation.title" data-i18n-html>Quick Navigation</h3>
                    <div class="nav-links">
                        <a href="antivirus-management.html" class="nav-link" data-i18n="docs.admin.firewall.navigation.previous" data-i18n-html>â† Antivirus Management</a>
                        <a href="package-management.html" class="nav-link" data-i18n="docs.admin.firewall.navigation.next" data-i18n-html>Package Management â†’</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer injected automatically by components.js -->    <script src="/assets/js/components.js"></script>
    <script src="/assets/js/i18n.js"></script>
    <script src="/assets/js/navbar.js"></script>
    <script src="/assets/js/main.js"></script>
</body>
</html>
