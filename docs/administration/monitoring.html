<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring & Alerts - Administration - SysManage</title>
    <meta name="description" content="Comprehensive monitoring setup including alerting, performance metrics, and system health tracking in SysManage.">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
</head>
<body data-auto-header="documentation" data-auto-footer>
    <!-- Header injected automatically by components.js -->

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../">Documentation</a> > <a href="./">Administration</a> > <span>Monitoring & Alerts</span>
            </div>

            <div class="docs-header">
                <h1>Monitoring & Alerts</h1>
                <p>Comprehensive monitoring setup including alerting, performance metrics, and system health tracking for proactive infrastructure management.</p>
            </div>

            <div class="docs-content">
                <section class="docs-overview">
                    <h2>Overview</h2>
                    <p>SysManage provides comprehensive monitoring capabilities that enable proactive infrastructure management through real-time metrics collection, intelligent alerting, and customizable dashboards. The monitoring system is designed to scale with your infrastructure while maintaining performance and reliability.</p>

                    <div class="monitoring-capabilities">
                        <h3>Monitoring Capabilities</h3>
                        <ul>
                            <li><strong>OpenTelemetry Integration:</strong> Industry-standard observability with distributed tracing and metrics</li>
                            <li><strong>Prometheus Metrics:</strong> Time-series metrics storage and powerful querying with PromQL</li>
                            <li><strong>Grafana Integration:</strong> Professional visualization and dashboarding platform</li>
                            <li><strong>Real-time Metrics:</strong> Continuous collection of system performance data</li>
                            <li><strong>Intelligent Alerting:</strong> Smart threshold-based and anomaly detection alerts</li>
                            <li><strong>Custom Dashboards:</strong> Configurable views for different teams and use cases</li>
                            <li><strong>Historical Analysis:</strong> Long-term trend analysis and capacity planning</li>
                            <li><strong>Multi-channel Notifications:</strong> Email, Slack, webhooks, and more</li>
                            <li><strong>Escalation Management:</strong> Automated escalation based on severity and response time</li>
                        </ul>
                    </div>
                </section>

                <section class="telemetry-stack">
                    <h2>OpenTelemetry & Prometheus Stack</h2>
                    <p>SysManage includes built-in support for industry-standard observability tools, providing comprehensive application and infrastructure monitoring.</p>

                    <div class="architecture-overview">
                        <h3>Telemetry Architecture</h3>
                        <pre><code>┌─────────────┐     OTLP      ┌──────────────────┐     Scrape    ┌────────────┐
│  SysManage  │──────────────>│  OpenTelemetry   │──────────────>│ Prometheus │
│   Backend   │               │    Collector     │               │            │
└─────────────┘               └──────────────────┘               └────────────┘
      │                              │                                   │
      │ Prometheus                   │ Logs/Traces                       │
      │ Metrics                      │                                   │
      └──────────────────────────────┴───────────────────────────────────┘
                                     │
                                     v
                              ┌────────────┐
                              │  Grafana   │
                              │ (optional) │
                              └────────────┘</code></pre>
                    </div>

                    <div class="quick-start">
                        <h3>Quick Start</h3>

                        <h4>1. Install Telemetry Stack</h4>
                        <p>The telemetry stack is automatically installed during development setup:</p>
                        <pre><code>make install-dev</code></pre>
                        <p>This installs:</p>
                        <ul>
                            <li>OpenTelemetry Collector Contrib</li>
                            <li>Prometheus time-series database</li>
                            <li>Python OpenTelemetry instrumentation libraries</li>
                        </ul>

                        <h4>2. Start Services</h4>
                        <p>Telemetry services start automatically with SysManage:</p>
                        <pre><code>make start</code></pre>
                        <p>This starts in order:</p>
                        <ul>
                            <li>OpenBAO (secrets management)</li>
                            <li>OpenTelemetry Collector (ports 4317, 4318, 8888, 55679)</li>
                            <li>Prometheus (port 9091)</li>
                            <li>SysManage Backend (with telemetry enabled)</li>
                        </ul>

                        <h4>3. Enable Telemetry</h4>
                        <p>Set the environment variable to enable OpenTelemetry instrumentation:</p>
                        <pre><code>export OTEL_ENABLED=true
./run.sh</code></pre>
                        <p>Or add to your shell configuration (<code>.bashrc</code>, <code>.zshrc</code>, etc.):</p>
                        <pre><code>export OTEL_ENABLED=true</code></pre>

                        <h4>4. Verify Telemetry</h4>
                        <p>Check that services are running:</p>
                        <pre><code>make status-telemetry</code></pre>
                        <p>Access web interfaces:</p>
                        <ul>
                            <li><strong>Prometheus UI:</strong> <a href="http://localhost:9091" target="_blank">http://localhost:9091</a></li>
                            <li><strong>OpenTelemetry Collector zPages:</strong> <a href="http://localhost:55679/debug/tracez" target="_blank">http://localhost:55679/debug/tracez</a></li>
                            <li><strong>SysManage Metrics Endpoint:</strong> <a href="http://localhost:9090/metrics" target="_blank">http://localhost:9090/metrics</a></li>
                        </ul>
                    </div>

                    <div class="configuration">
                        <h3>Configuration</h3>

                        <h4>Environment Variables</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Variable</th>
                                    <th>Default</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>OTEL_ENABLED</code></td>
                                    <td><code>false</code></td>
                                    <td>Enable/disable OpenTelemetry instrumentation</td>
                                </tr>
                                <tr>
                                    <td><code>OTEL_EXPORTER_OTLP_ENDPOINT</code></td>
                                    <td><code>http://localhost:4317</code></td>
                                    <td>OTLP gRPC endpoint for collector</td>
                                </tr>
                                <tr>
                                    <td><code>OTEL_PROMETHEUS_PORT</code></td>
                                    <td><code>9090</code></td>
                                    <td>Port for Prometheus metrics from SysManage</td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>Configuration Files</h4>
                        <ul>
                            <li><code>config/otel-collector-config.yml</code> - OpenTelemetry Collector configuration</li>
                            <li><code>config/prometheus.yml</code> - Prometheus scrape configuration</li>
                        </ul>

                        <h4>Customizing OpenTelemetry Collector</h4>
                        <p>Edit <code>config/otel-collector-config.yml</code> to:</p>
                        <ul>
                            <li>Add custom processors for data transformation</li>
                            <li>Configure additional exporters (Jaeger, Zipkin, etc.)</li>
                            <li>Adjust resource attributes and metadata</li>
                            <li>Change sampling rates and batch sizes</li>
                            <li>Add filters and data enrichment</li>
                        </ul>

                        <h4>Customizing Prometheus</h4>
                        <p>Edit <code>config/prometheus.yml</code> to:</p>
                        <ul>
                            <li>Add additional scrape targets</li>
                            <li>Configure alerting rules</li>
                            <li>Adjust retention settings</li>
                            <li>Set up remote write for long-term storage</li>
                            <li>Define custom labels and relabeling</li>
                        </ul>
                    </div>

                    <div class="available-metrics">
                        <h3>Available Metrics</h3>
                        <p>SysManage exposes comprehensive metrics through OpenTelemetry:</p>

                        <h4>HTTP Metrics</h4>
                        <ul>
                            <li><code>http_server_duration</code> - HTTP request duration histogram (P50, P95, P99)</li>
                            <li><code>http_server_active_requests</code> - Active HTTP requests gauge</li>
                            <li><code>http_server_request_size</code> - Request body size histogram</li>
                            <li><code>http_server_response_size</code> - Response body size histogram</li>
                            <li><code>http_server_requests_total</code> - Total HTTP request counter</li>
                        </ul>

                        <h4>Database Metrics</h4>
                        <ul>
                            <li><code>db_client_operation_duration</code> - Database operation duration</li>
                            <li><code>db_client_connections_usage</code> - Connection pool usage</li>
                            <li><code>db_client_connections_idle</code> - Idle connections in pool</li>
                            <li><code>db_client_connections_max</code> - Maximum pool size</li>
                            <li><code>db_client_operations_total</code> - Total database operations</li>
                        </ul>

                        <h4>Application Metrics</h4>
                        <ul>
                            <li><code>process_cpu_seconds_total</code> - Total CPU time consumed</li>
                            <li><code>process_resident_memory_bytes</code> - Resident memory size</li>
                            <li><code>process_virtual_memory_bytes</code> - Virtual memory size</li>
                            <li><code>process_open_fds</code> - Number of open file descriptors</li>
                            <li><code>process_start_time_seconds</code> - Process start time</li>
                        </ul>

                        <h4>Custom Business Metrics</h4>
                        <p>Add custom metrics using the OpenTelemetry SDK:</p>
                        <pre><code>from backend.telemetry.otel_config import get_meter

meter = get_meter(__name__)
counter = meter.create_counter(
    "hosts_managed_total",
    description="Total number of managed hosts",
    unit="1"
)
counter.add(1, {"status": "active"})</code></pre>
                    </div>

                    <div class="distributed-tracing">
                        <h3>Distributed Tracing</h3>
                        <p>OpenTelemetry automatically traces:</p>
                        <ul>
                            <li>FastAPI HTTP requests and responses</li>
                            <li>SQLAlchemy database queries</li>
                            <li>External HTTP requests (via <code>requests</code> library)</li>
                            <li>Background task execution</li>
                        </ul>

                        <h4>Custom Spans</h4>
                        <p>Add custom spans for detailed tracing:</p>
                        <pre><code>from backend.telemetry.otel_config import get_tracer

tracer = get_tracer(__name__)

with tracer.start_as_current_span("process_agent_data") as span:
    span.set_attribute("agent.id", agent_id)
    span.set_attribute("data.size", len(data))
    # Your processing code here
    result = process_data(data)
    span.set_attribute("result.status", "success")
    return result</code></pre>

                        <h4>Viewing Traces</h4>
                        <p>Access trace data through:</p>
                        <ul>
                            <li><strong>OpenTelemetry Collector zPages:</strong> <a href="http://localhost:55679/debug/tracez" target="_blank">http://localhost:55679/debug/tracez</a></li>
                            <li><strong>Export to Jaeger:</strong> Configure OTLP exporter to send to Jaeger</li>
                            <li><strong>Export to Zipkin:</strong> Configure OTLP exporter to send to Zipkin</li>
                            <li><strong>Grafana Tempo:</strong> Use Tempo for distributed tracing in Grafana</li>
                        </ul>
                    </div>
                </section>

                <section class="grafana-integration">
                    <h2>Grafana Integration</h2>
                    <p>SysManage includes native Grafana integration for professional visualization and dashboarding.</p>

                    <div class="integration-options">
                        <h3>Integration Options</h3>

                        <h4>Option 1: Managed Grafana Server</h4>
                        <p>Use a Grafana server managed by SysManage:</p>
                        <ol>
                            <li>Install Grafana on a managed host via SysManage</li>
                            <li>Assign the "Monitoring Server" role with package "grafana"</li>
                            <li>Navigate to <strong>Settings > Grafana Integration</strong></li>
                            <li>Enable integration and select your Grafana server</li>
                            <li>Provide a Grafana API key (stored securely in OpenBAO vault)</li>
                        </ol>

                        <h4>Option 2: External Grafana Server</h4>
                        <p>Use an existing external Grafana installation:</p>
                        <ol>
                            <li>Navigate to <strong>Settings > Grafana Integration</strong></li>
                            <li>Enable integration</li>
                            <li>Select "Manual Configuration"</li>
                            <li>Enter your Grafana URL (e.g., <code>https://grafana.example.com</code>)</li>
                            <li>Provide a Grafana API key (stored securely in OpenBAO vault)</li>
                        </ol>
                    </div>

                    <div class="grafana-setup">
                        <h3>Grafana Setup</h3>

                        <h4>Creating API Key in Grafana</h4>
                        <div class="important-note">
                            <p><strong>Important:</strong> The API key must have <strong>Admin</strong> role to automatically configure Prometheus data sources. Editor role is insufficient for data source management.</p>
                        </div>
                        <ol>
                            <li>Log into Grafana as an admin user</li>
                            <li>Navigate to <strong>Configuration > API Keys</strong> (or <strong>Administration > Service Accounts > API Keys</strong> in newer versions)</li>
                            <li>Click <strong>"Add API key"</strong> or <strong>"New API Key"</strong></li>
                            <li>Configure the key:
                                <ul>
                                    <li><strong>Name:</strong> <code>SysManage Integration</code></li>
                                    <li><strong>Role:</strong> <code>Admin</code> (required for automatic data source configuration)</li>
                                    <li><strong>Time to live:</strong> Set expiration as needed (or leave blank for no expiration)</li>
                                </ul>
                            </li>
                            <li>Click <strong>"Add"</strong> or <strong>"Create"</strong></li>
                            <li>Copy the generated API key immediately (it will only be shown once)</li>
                            <li>Store the key securely - SysManage will store it encrypted in OpenBAO vault</li>
                        </ol>

                        <h4>Configuring Grafana Integration in SysManage</h4>
                        <ol>
                            <li>Navigate to <strong>Settings > Integrations</strong> in SysManage web UI</li>
                            <li>Scroll to the <strong>Grafana Integration</strong> card</li>
                            <li>Toggle <strong>"Enable Grafana Integration"</strong> to ON</li>
                            <li>Choose your configuration method:
                                <ul>
                                    <li><strong>Use Managed Server:</strong> Select a Grafana server managed by SysManage (requires "Monitoring Server" role with package "grafana")</li>
                                    <li><strong>Manual Configuration:</strong> Toggle off "Use Managed Server" and enter your Grafana URL (e.g., <code>http://grafana.example.com:3000</code>)</li>
                                </ul>
                            </li>
                            <li>Paste the API key into the <strong>"API Key"</strong> field</li>
                            <li>Click <strong>"Save"</strong></li>
                            <li>SysManage will automatically:
                                <ul>
                                    <li>Securely store the API key in OpenBAO vault</li>
                                    <li>Verify connectivity to Grafana</li>
                                    <li>Create "SysManage Prometheus" data source in Grafana</li>
                                    <li>Configure the data source to point to your Prometheus instance</li>
                                </ul>
                            </li>
                            <li>Click <strong>"Check Health"</strong> to verify the connection</li>
                        </ol>

                        <h4>Troubleshooting API Key Issues</h4>
                        <ul>
                            <li><strong>401 Unauthorized:</strong> API key is invalid or has been deleted in Grafana. Generate a new key.</li>
                            <li><strong>403 Permission Denied:</strong> API key has insufficient permissions. Ensure it has <strong>Admin</strong> role, not just Editor.</li>
                            <li><strong>Connection timeout:</strong> Check that the Grafana URL is correct and the server is reachable from SysManage.</li>
                            <li><strong>Bad gateway:</strong> If using "localhost" in Grafana URL, change to the actual hostname or IP address that Grafana can reach.</li>
                        </ul>

                        <h4>Verifying Prometheus Data Source</h4>
                        <p><strong>Note:</strong> When you configure Grafana integration with an Admin-level API key, SysManage automatically creates and configures the Prometheus data source. Manual configuration is only needed if automatic setup fails.</p>

                        <p>To verify the automatic configuration:</p>
                        <ol>
                            <li>In Grafana, navigate to <strong>Configuration > Data Sources</strong></li>
                            <li>Look for <strong>"SysManage Prometheus"</strong> in the list</li>
                            <li>Click on it to view the configuration:
                                <ul>
                                    <li><strong>Name:</strong> <code>SysManage Prometheus</code></li>
                                    <li><strong>URL:</strong> <code>http://your-sysmanage-host:9091</code></li>
                                    <li><strong>Access:</strong> Server (proxy)</li>
                                    <li><strong>Default:</strong> Set as default data source</li>
                                </ul>
                            </li>
                            <li>Click <strong>"Save & Test"</strong> to verify connectivity</li>
                            <li>You should see a green success message: "Data source is working"</li>
                        </ol>

                        <h4>Manual Prometheus Data Source Setup</h4>
                        <p>If automatic configuration fails, you can manually add the data source:</p>
                        <ol>
                            <li>In Grafana, navigate to <strong>Configuration > Data Sources</strong></li>
                            <li>Click <strong>"Add data source"</strong></li>
                            <li>Select <strong>"Prometheus"</strong></li>
                            <li>Configure the data source:
                                <ul>
                                    <li><strong>Name:</strong> <code>SysManage Prometheus</code></li>
                                    <li><strong>URL:</strong> <code>http://your-sysmanage-host:9091</code> (use actual hostname, not "localhost")</li>
                                    <li><strong>Access:</strong> Server (default)</li>
                                    <li><strong>Scrape interval:</strong> <code>15s</code></li>
                                    <li><strong>HTTP Method:</strong> POST</li>
                                </ul>
                            </li>
                            <li>Click <strong>"Save & Test"</strong></li>
                        </ol>
                    </div>

                    <div class="recommended-dashboards">
                        <h3>Recommended Dashboard Panels</h3>

                        <h4>Application Performance Dashboard</h4>
                        <ul>
                            <li><strong>Request Rate:</strong> <code>rate(http_server_requests_total[5m])</code></li>
                            <li><strong>Response Time (P95):</strong> <code>histogram_quantile(0.95, http_server_duration_bucket)</code></li>
                            <li><strong>Error Rate:</strong> <code>rate(http_server_requests_total{status_code=~"5.."}[5m])</code></li>
                            <li><strong>Active Requests:</strong> <code>http_server_active_requests</code></li>
                        </ul>

                        <h4>Database Performance Dashboard</h4>
                        <ul>
                            <li><strong>Query Duration:</strong> <code>histogram_quantile(0.95, db_client_operation_duration_bucket)</code></li>
                            <li><strong>Connection Pool Usage:</strong> <code>db_client_connections_usage / db_client_connections_max</code></li>
                            <li><strong>Idle Connections:</strong> <code>db_client_connections_idle</code></li>
                            <li><strong>Operations Rate:</strong> <code>rate(db_client_operations_total[5m])</code></li>
                        </ul>

                        <h4>System Resources Dashboard</h4>
                        <ul>
                            <li><strong>CPU Usage:</strong> <code>rate(process_cpu_seconds_total[1m])</code></li>
                            <li><strong>Memory Usage:</strong> <code>process_resident_memory_bytes</code></li>
                            <li><strong>Open File Descriptors:</strong> <code>process_open_fds</code></li>
                            <li><strong>Uptime:</strong> <code>time() - process_start_time_seconds</code></li>
                        </ul>
                    </div>

                    <div class="grafana-health">
                        <h3>Health Check</h3>
                        <p>SysManage provides an API endpoint to verify Grafana connectivity:</p>
                        <pre><code>GET /api/grafana/health</code></pre>
                        <p>This endpoint checks:</p>
                        <ul>
                            <li>Grafana server reachability</li>
                            <li>API key validity</li>
                            <li>Grafana version information</li>
                            <li>Build information and features</li>
                        </ul>
                    </div>
                </section>

                <section class="metrics-collection">
                    <h2>Metrics Collection</h2>

                    <div class="system-metrics">
                        <h3>System Performance Metrics</h3>
                        <p>SysManage automatically collects comprehensive system metrics:</p>

                        <h4>CPU Metrics</h4>
                        <ul>
                            <li><strong>Utilization:</strong> Overall CPU usage percentage</li>
                            <li><strong>Load Average:</strong> 1, 5, and 15-minute load averages</li>
                            <li><strong>Per-Core Usage:</strong> Individual CPU core utilization</li>
                            <li><strong>Process Breakdown:</strong> Top CPU-consuming processes</li>
                            <li><strong>Context Switches:</strong> System context switch rates</li>
                            <li><strong>Interrupts:</strong> Hardware and software interrupt rates</li>
                        </ul>

                        <h4>Memory Metrics</h4>
                        <ul>
                            <li><strong>Total/Used/Free:</strong> Memory utilization breakdown</li>
                            <li><strong>Swap Usage:</strong> Swap space utilization and activity</li>
                            <li><strong>Buffer/Cache:</strong> System buffer and cache usage</li>
                            <li><strong>Memory Pressure:</strong> Memory pressure indicators</li>
                            <li><strong>Process Memory:</strong> Per-process memory consumption</li>
                            <li><strong>Memory Leaks:</strong> Detection of potential memory leaks</li>
                        </ul>

                        <h4>Storage Metrics</h4>
                        <ul>
                            <li><strong>Disk Usage:</strong> File system capacity and utilization</li>
                            <li><strong>I/O Performance:</strong> Read/write throughput and latency</li>
                            <li><strong>IOPS:</strong> Input/output operations per second</li>
                            <li><strong>Queue Depth:</strong> Storage queue metrics</li>
                            <li><strong>Disk Health:</strong> SMART data and disk health indicators</li>
                            <li><strong>Mount Points:</strong> All mounted file systems status</li>
                        </ul>

                        <h4>Network Metrics</h4>
                        <ul>
                            <li><strong>Interface Statistics:</strong> Traffic, errors, and drops per interface</li>
                            <li><strong>Bandwidth Utilization:</strong> Network throughput and capacity</li>
                            <li><strong>Connection Statistics:</strong> Active connections and states</li>
                            <li><strong>Protocol Statistics:</strong> TCP, UDP, and other protocol metrics</li>
                            <li><strong>DNS Performance:</strong> DNS resolution times and failures</li>
                            <li><strong>Network Latency:</strong> Network round-trip times</li>
                        </ul>
                    </div>

                    <div class="application-metrics">
                        <h3>Application and Service Metrics</h3>

                        <h4>Service Monitoring</h4>
                        <ul>
                            <li><strong>Service Status:</strong> Running, stopped, failed service states</li>
                            <li><strong>Process Monitoring:</strong> Critical process health and performance</li>
                            <li><strong>Port Monitoring:</strong> Service availability on specific ports</li>
                            <li><strong>Log Analysis:</strong> Application log patterns and errors</li>
                            <li><strong>Resource Usage:</strong> Per-service resource consumption</li>
                            <li><strong>Response Times:</strong> Application response time metrics</li>
                        </ul>

                        <h4>Database Monitoring</h4>
                        <ul>
                            <li><strong>Connection Pools:</strong> Database connection utilization</li>
                            <li><strong>Query Performance:</strong> Slow query detection and analysis</li>
                            <li><strong>Lock Statistics:</strong> Database lock contention metrics</li>
                            <li><strong>Replication Status:</strong> Database replication health</li>
                            <li><strong>Storage Growth:</strong> Database size and growth trends</li>
                        </ul>

                        <h4>Web Server Monitoring</h4>
                        <ul>
                            <li><strong>Request Rates:</strong> HTTP request volume and patterns</li>
                            <li><strong>Response Codes:</strong> HTTP status code distribution</li>
                            <li><strong>Response Times:</strong> Request processing latency</li>
                            <li><strong>Connection Metrics:</strong> Active connections and limits</li>
                            <li><strong>SSL Certificate:</strong> Certificate expiration monitoring</li>
                        </ul>
                    </div>

                    <div class="custom-metrics">
                        <h3>Custom Metrics</h3>
                        <p>Extend monitoring with custom application metrics:</p>

                        <h4>Custom Script Monitoring</h4>
                        <ul>
                            <li><strong>Script Execution:</strong> Run custom monitoring scripts</li>
                            <li><strong>Exit Code Monitoring:</strong> Alert on script failures</li>
                            <li><strong>Output Parsing:</strong> Extract metrics from script output</li>
                            <li><strong>Scheduled Execution:</strong> Define custom execution schedules</li>
                            <li><strong>Timeout Handling:</strong> Handle long-running or stuck scripts</li>
                        </ul>

                        <h4>API Integration</h4>
                        <ul>
                            <li><strong>REST API Calls:</strong> Monitor external API availability</li>
                            <li><strong>Response Validation:</strong> Validate API response content</li>
                            <li><strong>Authentication:</strong> Support for various authentication methods</li>
                            <li><strong>Rate Limiting:</strong> Respect API rate limits</li>
                            <li><strong>Custom Headers:</strong> Include custom headers in requests</li>
                        </ul>
                    </div>
                </section>

                <section class="alerting-system">
                    <h2>Alerting System</h2>

                    <div class="alert-configuration">
                        <h3>Alert Configuration</h3>

                        <h4>Alert Types</h4>
                        <ul>
                            <li><strong>Threshold Alerts:</strong> Trigger when metrics exceed defined thresholds</li>
                            <li><strong>Anomaly Detection:</strong> Machine learning-based anomaly detection</li>
                            <li><strong>Service Alerts:</strong> Alert on service availability and health</li>
                            <li><strong>Log Pattern Alerts:</strong> Trigger on specific log patterns</li>
                            <li><strong>Composite Alerts:</strong> Multi-condition alerts with logical operators</li>
                            <li><strong>Predictive Alerts:</strong> Early warning based on trend analysis</li>
                        </ul>

                        <h4>Threshold Configuration</h4>
                        <p>Configure alert thresholds for optimal balance between noise and coverage:</p>

                        <h5>CPU Utilization Example</h5>
                        <ul>
                            <li><strong>Warning:</strong> CPU > 70% for 5 minutes</li>
                            <li><strong>Critical:</strong> CPU > 90% for 2 minutes</li>
                            <li><strong>Recovery:</strong> CPU < 60% for 3 minutes</li>
                        </ul>

                        <h5>Memory Usage Example</h5>
                        <ul>
                            <li><strong>Warning:</strong> Memory > 80% for 10 minutes</li>
                            <li><strong>Critical:</strong> Memory > 95% for 1 minute</li>
                            <li><strong>Recovery:</strong> Memory < 75% for 5 minutes</li>
                        </ul>

                        <h5>Disk Space Example</h5>
                        <ul>
                            <li><strong>Warning:</strong> Disk > 85% usage</li>
                            <li><strong>Critical:</strong> Disk > 95% usage</li>
                            <li><strong>Recovery:</strong> Disk < 80% usage</li>
                        </ul>
                    </div>

                    <div class="notification-channels">
                        <h3>Notification Channels</h3>

                        <h4>Supported Channels</h4>
                        <ul>
                            <li><strong>Email:</strong> SMTP-based email notifications</li>
                            <li><strong>Slack:</strong> Team collaboration via Slack channels</li>
                            <li><strong>Microsoft Teams:</strong> Integration with Teams channels</li>
                            <li><strong>Discord:</strong> Community and team notifications</li>
                            <li><strong>Webhooks:</strong> Custom HTTP POST notifications</li>
                            <li><strong>SMS:</strong> Text message alerts via third-party services</li>
                            <li><strong>PagerDuty:</strong> Professional incident management</li>
                            <li><strong>OpsGenie:</strong> Enterprise alerting and escalation</li>
                        </ul>

                        <h4>Channel Configuration</h4>

                        <h5>Email Configuration</h5>
                        <pre><code>SMTP Settings:
Server: mail.example.com
Port: 587
Security: STARTTLS
Authentication: username/password</code></pre>

                        <h5>Slack Integration</h5>
                        <pre><code>Webhook URL: https://hooks.slack.com/services/...
Channel: #infrastructure-alerts
Username: SysManage
Icon: :warning:</code></pre>

                        <h5>Webhook Configuration</h5>
                        <pre><code>URL: https://api.example.com/alerts
Method: POST
Headers:
  Content-Type: application/json
  Authorization: Bearer &lt;token&gt;</code></pre>
                    </div>

                    <div class="escalation-management">
                        <h3>Escalation Management</h3>

                        <h4>Escalation Policies</h4>
                        <p>Define escalation paths for different alert severities:</p>

                        <h5>Level 1 Escalation (0-15 minutes)</h5>
                        <ul>
                            <li>Primary on-call engineer</li>
                            <li>Slack channel notification</li>
                            <li>Email to team distribution list</li>
                        </ul>

                        <h5>Level 2 Escalation (15-30 minutes)</h5>
                        <ul>
                            <li>Secondary on-call engineer</li>
                            <li>Team lead notification</li>
                            <li>SMS to primary on-call</li>
                        </ul>

                        <h5>Level 3 Escalation (30+ minutes)</h5>
                        <ul>
                            <li>Manager notification</li>
                            <li>Emergency contact activation</li>
                            <li>Multiple communication channels</li>
                        </ul>

                        <h4>Alert Suppression</h4>
                        <ul>
                            <li><strong>Maintenance Windows:</strong> Suppress alerts during planned maintenance</li>
                            <li><strong>Dependency Mapping:</strong> Suppress child alerts when parent systems fail</li>
                            <li><strong>Frequency Limiting:</strong> Limit notification frequency for noisy alerts</li>
                            <li><strong>Business Hours:</strong> Different escalation during business vs. off hours</li>
                        </ul>
                    </div>
                </section>

                <section class="dashboard-configuration">
                    <h2>Dashboard Configuration</h2>

                    <div class="dashboard-types">
                        <h3>Dashboard Types</h3>

                        <h4>Executive Dashboards</h4>
                        <ul>
                            <li><strong>High-level KPIs:</strong> Overall system health and availability</li>
                            <li><strong>Business Metrics:</strong> Service uptime and performance</li>
                            <li><strong>Trend Analysis:</strong> Month-over-month performance trends</li>
                            <li><strong>Cost Optimization:</strong> Resource utilization and efficiency</li>
                        </ul>

                        <h4>Operations Dashboards</h4>
                        <ul>
                            <li><strong>Real-time Status:</strong> Current system status and alerts</li>
                            <li><strong>Performance Metrics:</strong> Detailed performance indicators</li>
                            <li><strong>Capacity Planning:</strong> Resource utilization and forecasting</li>
                            <li><strong>Incident Tracking:</strong> Active incidents and resolution status</li>
                        </ul>

                        <h4>Application Dashboards</h4>
                        <ul>
                            <li><strong>Application Performance:</strong> Response times and throughput</li>
                            <li><strong>Error Tracking:</strong> Application errors and failure rates</li>
                            <li><strong>User Experience:</strong> End-user performance metrics</li>
                            <li><strong>Dependency Mapping:</strong> Service dependencies and health</li>
                        </ul>

                        <h4>Infrastructure Dashboards</h4>
                        <ul>
                            <li><strong>System Health:</strong> CPU, memory, disk, and network status</li>
                            <li><strong>Hardware Monitoring:</strong> Physical hardware health and performance</li>
                            <li><strong>Network Overview:</strong> Network topology and performance</li>
                            <li><strong>Security Monitoring:</strong> Security events and compliance status</li>
                        </ul>
                    </div>

                    <div class="dashboard-customization">
                        <h3>Dashboard Customization</h3>

                        <h4>Widget Types</h4>
                        <ul>
                            <li><strong>Time Series Graphs:</strong> Line charts showing metrics over time</li>
                            <li><strong>Gauge Widgets:</strong> Current value displays with thresholds</li>
                            <li><strong>Status Indicators:</strong> Health status and availability displays</li>
                            <li><strong>Top Lists:</strong> Ranked lists of hosts or metrics</li>
                            <li><strong>Heat Maps:</strong> Visual representation of metric distributions</li>
                            <li><strong>Alert Summaries:</strong> Current and recent alert status</li>
                        </ul>

                        <h4>Layout Options</h4>
                        <ul>
                            <li><strong>Grid Layout:</strong> Flexible grid-based widget arrangement</li>
                            <li><strong>Responsive Design:</strong> Adapts to different screen sizes</li>
                            <li><strong>Custom Sizing:</strong> Adjustable widget dimensions</li>
                            <li><strong>Multi-page Dashboards:</strong> Organize widgets across multiple pages</li>
                            <li><strong>Auto-refresh:</strong> Configurable refresh intervals</li>
                        </ul>

                        <h4>Access Control</h4>
                        <ul>
                            <li><strong>Role-based Access:</strong> Different dashboards for different roles</li>
                            <li><strong>Team Dashboards:</strong> Team-specific metric views</li>
                            <li><strong>Public Dashboards:</strong> Read-only dashboards for stakeholders</li>
                            <li><strong>Edit Permissions:</strong> Control who can modify dashboards</li>
                        </ul>
                    </div>
                </section>

                <section class="health-checks">
                    <h2>Health Check Configuration</h2>

                    <div class="system-health">
                        <h3>System Health Checks</h3>

                        <h4>Core System Checks</h4>
                        <ul>
                            <li><strong>Agent Connectivity:</strong> Verify all agents are connected and responsive</li>
                            <li><strong>Database Health:</strong> Check database connectivity and performance</li>
                            <li><strong>Queue Status:</strong> Monitor message queue health and processing</li>
                            <li><strong>Certificate Validity:</strong> Check SSL/TLS certificate expiration</li>
                            <li><strong>Disk Space:</strong> Verify adequate disk space on server</li>
                            <li><strong>Memory Usage:</strong> Monitor server memory utilization</li>
                        </ul>

                        <h4>Service Health Checks</h4>
                        <ul>
                            <li><strong>Web Server:</strong> HTTP response and performance checks</li>
                            <li><strong>API Endpoints:</strong> Verify API functionality and response times</li>
                            <li><strong>Background Services:</strong> Check background job processing</li>
                            <li><strong>External Dependencies:</strong> Monitor external service availability</li>
                            <li><strong>Load Balancer:</strong> Verify load balancer health and distribution</li>
                        </ul>
                    </div>

                    <div class="custom-health-checks">
                        <h3>Custom Health Checks</h3>

                        <h4>Script-based Checks</h4>
                        <pre><code>#!/bin/bash
# Custom health check example
check_application_health() {
    response=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:8080/health)
    if [ "$response" -eq 200 ]; then
        echo "Application healthy"
        exit 0
    else
        echo "Application unhealthy - HTTP $response"
        exit 1
    fi
}</code></pre>

                        <h4>Database Connectivity Check</h4>
                        <pre><code>#!/bin/bash
# Database health check
check_database() {
    if pg_isready -h localhost -p 5432 -U sysmanage; then
        echo "Database accessible"
        exit 0
    else
        echo "Database not accessible"
        exit 1
    fi
}</code></pre>

                        <h4>API Health Check</h4>
                        <pre><code>#!/usr/bin/env python3
import requests
import sys

def check_api_health():
    try:
        response = requests.get('http://localhost:8443/api/health', timeout=10)
        if response.status_code == 200:
            print("API healthy")
            sys.exit(0)
        else:
            print(f"API unhealthy - Status: {response.status_code}")
            sys.exit(1)
    except Exception as e:
        print(f"API check failed: {e}")
        sys.exit(1)</code></pre>
                    </div>
                </section>

                <section class="performance-optimization">
                    <h2>Monitoring Performance Optimization</h2>

                    <div class="data-retention">
                        <h3>Data Retention Policies</h3>

                        <h4>Retention Strategies</h4>
                        <ul>
                            <li><strong>High-resolution data:</strong> 24 hours of 1-minute intervals</li>
                            <li><strong>Medium-resolution data:</strong> 7 days of 5-minute intervals</li>
                            <li><strong>Low-resolution data:</strong> 90 days of 1-hour intervals</li>
                            <li><strong>Archive data:</strong> 1 year of daily summaries</li>
                            <li><strong>Long-term trends:</strong> Multi-year monthly summaries</li>
                        </ul>

                        <h4>Storage Optimization</h4>
                        <ul>
                            <li><strong>Data Compression:</strong> Compress historical data</li>
                            <li><strong>Archival:</strong> Move old data to cold storage</li>
                            <li><strong>Purging:</strong> Automatically delete expired data</li>
                            <li><strong>Indexing:</strong> Optimize database indexes for queries</li>
                        </ul>
                    </div>

                    <div class="collection-optimization">
                        <h3>Collection Optimization</h3>

                        <h4>Collection Intervals</h4>
                        <ul>
                            <li><strong>Critical Metrics:</strong> 30-second intervals</li>
                            <li><strong>Standard Metrics:</strong> 1-minute intervals</li>
                            <li><strong>Resource Intensive:</strong> 5-minute intervals</li>
                            <li><strong>Static Data:</strong> Hourly or daily collection</li>
                        </ul>

                        <h4>Agent Performance</h4>
                        <ul>
                            <li><strong>Batch Collection:</strong> Collect multiple metrics efficiently</li>
                            <li><strong>Compression:</strong> Compress data before transmission</li>
                            <li><strong>Buffering:</strong> Buffer data during network outages</li>
                            <li><strong>Priority Queues:</strong> Prioritize critical metrics</li>
                        </ul>
                    </div>
                </section>

                <section class="monitoring-best-practices">
                    <h2>Monitoring Best Practices</h2>

                    <div class="alert-design">
                        <h3>Alert Design Best Practices</h3>
                        <ul>
                            <li><strong>Actionable Alerts:</strong> Only alert on conditions requiring action</li>
                            <li><strong>Appropriate Thresholds:</strong> Set thresholds based on historical data</li>
                            <li><strong>Context Information:</strong> Include relevant context in alerts</li>
                            <li><strong>Clear Recovery:</strong> Define clear recovery conditions</li>
                            <li><strong>Avoid Alert Fatigue:</strong> Minimize false positives</li>
                            <li><strong>Business Impact:</strong> Correlate alerts with business impact</li>
                        </ul>
                    </div>

                    <div class="dashboard-design">
                        <h3>Dashboard Design Best Practices</h3>
                        <ul>
                            <li><strong>Audience-specific:</strong> Design dashboards for specific audiences</li>
                            <li><strong>Information Hierarchy:</strong> Most critical information first</li>
                            <li><strong>Visual Clarity:</strong> Use clear, readable visualizations</li>
                            <li><strong>Performance Focus:</strong> Optimize dashboard loading times</li>
                            <li><strong>Regular Review:</strong> Regularly review and update dashboards</li>
                        </ul>
                    </div>

                    <div class="operational-practices">
                        <h3>Operational Best Practices</h3>
                        <ul>
                            <li><strong>Regular Maintenance:</strong> Schedule regular monitoring system maintenance</li>
                            <li><strong>Capacity Planning:</strong> Monitor and plan for system growth</li>
                            <li><strong>Documentation:</strong> Document alert procedures and escalation paths</li>
                            <li><strong>Training:</strong> Train team members on monitoring tools and procedures</li>
                            <li><strong>Continuous Improvement:</strong> Regularly review and improve monitoring setup</li>
                        </ul>
                    </div>
                </section>
            </div>

            <div class="docs-footer">
                <div class="docs-navigation">
                    <h3>Quick Navigation</h3>
                    <div class="nav-links">
                        <a href="host-management.html" class="nav-link">← Host Management</a>
                        <a href="backup.html" class="nav-link">Backup & Recovery →</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer injected automatically by components.js -->    <script src="/assets/js/components.js"></script>
    <script src="/assets/js/i18n.js"></script>
    <script src="/assets/js/navbar.js"></script>
    <script src="/assets/js/main.js"></script>
</body>
</html>