<!DOCTYPE html>
<html lang="en" data-i18n-title="database_security.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="database_security.title" data-i18n-html>Database Security - SysManage</title>
    <meta name="description" content="Comprehensive database security documentation for SysManage including UUID-based primary keys, secure installation, and database hardening." data-i18n-attr="content" data-i18n="database_security.description" data-i18n-html>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="../../assets/images/favicon.svg">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a href="../../">
                        <img src="../../assets/images/sysmanage-logo.svg" alt="SysManage" class="logo">
                    </a>
                </div>
                <div class="nav-menu">
                    <a href="../../#features" class="nav-link" data-i18n="nav.features" data-i18n-html>Features</a>
                    <a href="../../#getting-started" class="nav-link" data-i18n="nav.getting_started" data-i18n-html>Getting Started</a>
                    <a href="../" class="nav-link active" data-i18n="nav.documentation" data-i18n-html>Documentation</a>
                    <a href="../../config-builder.html" class="nav-link" data-i18n="nav.config_builder" data-i18n-html>Configuration Builder</a>
                    <a href="https://github.com/bceverly/sysmanage" class="nav-link" target="_blank" data-i18n="nav.github" data-i18n-html>GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="nav.documentation" data-i18n-html>Documentation</a> > <a href="./" data-i18n="security_docs.section_title" data-i18n-html>Security</a> > <span data-i18n="database_security.breadcrumb" data-i18n-html>Database Security</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="database_security.header.title" data-i18n-html>Database Security</h1>
                <p data-i18n="database_security.header.subtitle" data-i18n-html>Advanced database security features including UUID-based primary keys, secure installation procedures, and database hardening techniques.</p>
            </div>

            <div class="docs-content">
                <section class="docs-section">
                    <h2 data-i18n="database_security.uuid_architecture.title" data-i18n-html>UUID-Based Primary Key Architecture</h2>
                    <p data-i18n="database_security.uuid_architecture.description" data-i18n-html>SysManage implements UUID-based primary keys across all database tables instead of traditional sequential integer IDs. This architectural decision provides significant security advantages and prevents common attack vectors.</p>

                    <div class="security-benefits">
                        <h3 data-i18n="database_security.uuid_architecture.benefits.title" data-i18n-html>Security Benefits</h3>
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.enumeration.title" data-i18n-html>üõ°Ô∏è ID Enumeration Attack Prevention</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.enumeration.description" data-i18n-html>Sequential IDs (1, 2, 3...) allow attackers to easily enumerate resources. UUIDs eliminate this vulnerability by using non-predictable identifiers.</p>
                                <div class="example">
                                    <h5 data-i18n="database_security.examples.vulnerable" data-i18n-html>‚ùå Vulnerable (Sequential):</h5>
                                    <code>GET /api/hosts/1, /api/hosts/2, /api/hosts/3...</code>
                                    <h5 data-i18n="database_security.examples.secure" data-i18n-html>‚úÖ Secure (UUID):</h5>
                                    <code>GET /api/hosts/a1b2c3d4-e5f6-7890-abcd-ef1234567890</code>
                                </div>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.replay.title" data-i18n-html>üîÑ Replay Attack Protection</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.replay.description" data-i18n-html>Non-sequential identifiers prevent attackers from predicting valid resource IDs for replay attacks or automated scanning.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.information_leakage.title" data-i18n-html>üîí Information Leakage Prevention</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.information_leakage.description" data-i18n-html>Sequential IDs can reveal business metrics (number of users, hosts, etc.). UUIDs prevent this information disclosure.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.privacy.title" data-i18n-html>üïµÔ∏è Enhanced Privacy Protection</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.privacy.description" data-i18n-html>UUIDs provide non-correlatable identifiers that enhance user privacy and prevent cross-system tracking.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.gdpr.title" data-i18n-html>üìã GDPR Compliance Support</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.gdpr.description" data-i18n-html>UUIDs support data anonymization requirements by providing identifiers that cannot be easily correlated across systems.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.distributed.title" data-i18n-html>üåê Distributed System Security</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.distributed.description" data-i18n-html>UUIDs are globally unique, preventing ID conflicts in distributed systems and reducing attack surface in multi-tenant environments.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.secure_installation.title" data-i18n-html>Secure Installation Script</h2>
                    <p data-i18n="database_security.secure_installation.description" data-i18n-html>SysManage includes a mandatory secure installation script that must be run on new installations to establish proper security foundations.</p>

                    <div class="installation-security">
                        <h3 data-i18n="database_security.secure_installation.script_location.title" data-i18n-html>Script Location</h3>
                        <pre><code data-i18n="database_security.secure_installation.script_location.path" data-i18n-html>scripts/sysmanage_secure_installation</code></pre>

                        <h3 data-i18n="database_security.secure_installation.features.title" data-i18n-html>Security Features Implemented</h3>
                        <div class="features-list">
                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.admin_user.title" data-i18n-html>üë§ Initial Admin User Creation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.secure_password" data-i18n-html>Prompts for secure administrator password</li>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.password_validation" data-i18n-html>Enforces password complexity requirements</li>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.no_defaults" data-i18n-html>Prevents use of default or example credentials</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.jwt_security.title" data-i18n-html>üîê JWT Security Token Generation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.unique_secret" data-i18n-html>Generates cryptographically secure unique JWT secret</li>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.entropy" data-i18n-html>Uses high-entropy random data for token generation</li>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.prevents_reuse" data-i18n-html>Prevents credential reuse across installations</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.password_salt.title" data-i18n-html>üßÇ Password Salt Generation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.unique_salt" data-i18n-html>Creates unique password salt for each installation</li>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.rainbow_protection" data-i18n-html>Prevents rainbow table attacks</li>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.secure_hashing" data-i18n-html>Enhances password hashing security</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.config_hardening.title" data-i18n-html>‚öôÔ∏è Configuration File Hardening</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.file_permissions" data-i18n-html>Sets restrictive file permissions (600)</li>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.ownership" data-i18n-html>Ensures proper file ownership</li>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.validation" data-i18n-html>Validates configuration security settings</li>
                                </ul>
                            </div>
                        </div>

                        <div class="security-warning">
                            <h3 data-i18n="database_security.secure_installation.requirements.title" data-i18n-html>‚ö†Ô∏è Security Requirements</h3>
                            <ul>
                                <li><strong data-i18n="database_security.secure_installation.requirements.mandatory" data-i18n-html>Mandatory execution:</strong> <span data-i18n="database_security.secure_installation.requirements.mandatory_desc" data-i18n-html>The script MUST be run before first use</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.run_once" data-i18n-html>Run once only:</strong> <span data-i18n="database_security.secure_installation.requirements.run_once_desc" data-i18n-html>Execute only once per installation</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.backup" data-i18n-html>Configuration backup:</strong> <span data-i18n="database_security.secure_installation.requirements.backup_desc" data-i18n-html>Backup configuration file after script execution</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.no_defaults" data-i18n-html>No default credentials:</strong> <span data-i18n="database_security.secure_installation.requirements.no_defaults_desc" data-i18n-html>System will not function with default security tokens</span></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.implementation.title" data-i18n-html>Implementation Details</h2>

                    <div class="implementation-details">
                        <h3 data-i18n="database_security.implementation.database_schema.title" data-i18n-html>Database Schema Design</h3>
                        <p data-i18n="database_security.implementation.database_schema.description" data-i18n-html>All primary keys in SysManage use UUID version 4 (random) for maximum security:</p>

                        <div class="code-example">
                            <h4 data-i18n="database_security.implementation.database_schema.example_title" data-i18n-html>Example Table Definitions:</h4>
                            <pre><code>-- Users table with UUID primary key
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Hosts table with UUID primary key and foreign key
CREATE TABLE hosts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    hostname VARCHAR(255) NOT NULL,
    owner_id UUID REFERENCES users(id),
    approved_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>
                        </div>

                        <h3 data-i18n="database_security.implementation.api_security.title" data-i18n-html>API Security Considerations</h3>
                        <div class="api-security">
                            <h4 data-i18n="database_security.implementation.api_security.validation.title" data-i18n-html>UUID Validation</h4>
                            <ul>
                                <li data-i18n="database_security.implementation.api_security.validation.format" data-i18n-html>All UUID inputs are validated for proper format</li>
                                <li data-i18n="database_security.implementation.api_security.validation.pydantic" data-i18n-html>Pydantic models enforce UUID typing</li>
                                <li data-i18n="database_security.implementation.api_security.validation.rejection" data-i18n-html>Invalid UUIDs are immediately rejected</li>
                            </ul>

                            <h4 data-i18n="database_security.implementation.api_security.authorization.title" data-i18n-html>Authorization Checks</h4>
                            <ul>
                                <li data-i18n="database_security.implementation.api_security.authorization.resource_ownership" data-i18n-html>Resource ownership validated before UUID resolution</li>
                                <li data-i18n="database_security.implementation.api_security.authorization.rbac" data-i18n-html>Role-based access control applied to UUID-referenced resources</li>
                                <li data-i18n="database_security.implementation.api_security.authorization.no_enumeration" data-i18n-html>No information disclosure even for invalid UUIDs</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.best_practices.title" data-i18n-html>Database Security Best Practices</h2>

                    <div class="best-practices">
                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.production.title" data-i18n-html>üè≠ Production Deployment</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.production.encryption" data-i18n-html>Enable database encryption at rest</li>
                                <li data-i18n="database_security.best_practices.production.ssl" data-i18n-html>Use SSL/TLS for database connections</li>
                                <li data-i18n="database_security.best_practices.production.credentials" data-i18n-html>Store database credentials securely</li>
                                <li data-i18n="database_security.best_practices.production.network" data-i18n-html>Restrict database network access</li>
                                <li data-i18n="database_security.best_practices.production.monitoring" data-i18n-html>Implement database activity monitoring</li>
                            </ul>
                        </div>

                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.backup.title" data-i18n-html>üíæ Backup and Recovery</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.backup.encrypted" data-i18n-html>Use encrypted database backups</li>
                                <li data-i18n="database_security.best_practices.backup.secure_storage" data-i18n-html>Store backups in secure locations</li>
                                <li data-i18n="database_security.best_practices.backup.access_control" data-i18n-html>Implement backup access controls</li>
                                <li data-i18n="database_security.best_practices.backup.testing" data-i18n-html>Regularly test backup restoration</li>
                                <li data-i18n="database_security.best_practices.backup.retention" data-i18n-html>Follow data retention policies</li>
                            </ul>
                        </div>

                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.maintenance.title" data-i18n-html>üîß Maintenance and Updates</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.maintenance.patches" data-i18n-html>Apply security patches promptly</li>
                                <li data-i18n="database_security.best_practices.maintenance.migration_testing" data-i18n-html>Test database migrations in staging</li>
                                <li data-i18n="database_security.best_practices.maintenance.schema_review" data-i18n-html>Review schema changes for security implications</li>
                                <li data-i18n="database_security.best_practices.maintenance.audit_logs" data-i18n-html>Maintain comprehensive audit logs</li>
                                <li data-i18n="database_security.best_practices.maintenance.performance" data-i18n-html>Monitor database performance and security metrics</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.migration.title" data-i18n-html>Migration from Sequential IDs</h2>
                    <p data-i18n="database_security.migration.description" data-i18n-html>SysManage has been fully migrated from sequential integer IDs to UUIDs using a comprehensive migration strategy.</p>

                    <div class="migration-process">
                        <h3 data-i18n="database_security.migration.process.title" data-i18n-html>Migration Process</h3>
                        <div class="migration-steps">
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step1.title" data-i18n-html>Step 1: Schema Migration</h4>
                                <p data-i18n="database_security.migration.process.step1.description" data-i18n-html>Alembic migrations converted all primary keys and foreign keys from integers to UUIDs</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step2.title" data-i18n-html>Step 2: Data Migration</h4>
                                <p data-i18n="database_security.migration.process.step2.description" data-i18n-html>Existing data was migrated with new UUID identifiers while preserving relationships</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step3.title" data-i18n-html>Step 3: API Updates</h4>
                                <p data-i18n="database_security.migration.process.step3.description" data-i18n-html>All API endpoints updated to handle UUID parameters and responses</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step4.title" data-i18n-html>Step 4: Frontend Updates</h4>
                                <p data-i18n="database_security.migration.process.step4.description" data-i18n-html>Frontend components updated to work with UUID identifiers</p>
                            </div>
                        </div>

                        <div class="migration-benefits">
                            <h3 data-i18n="database_security.migration.benefits.title" data-i18n-html>Post-Migration Security Benefits</h3>
                            <ul>
                                <li data-i18n="database_security.migration.benefits.attack_surface" data-i18n-html>Dramatically reduced attack surface</li>
                                <li data-i18n="database_security.migration.benefits.enumeration" data-i18n-html>Eliminated ID enumeration vulnerabilities</li>
                                <li data-i18n="database_security.migration.benefits.information_disclosure" data-i18n-html>Prevented information disclosure through predictable IDs</li>
                                <li data-i18n="database_security.migration.benefits.compliance" data-i18n-html>Enhanced regulatory compliance posture</li>
                                <li data-i18n="database_security.migration.benefits.future_proof" data-i18n-html>Future-proofed against sequential ID-based attacks</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <div class="docs-navigation">
                    <div class="nav-links">
                        <a href="./" class="nav-link" data-i18n="database_security.navigation.security_docs" data-i18n-html>‚Üê Security Documentation</a>
                        <a href="best-practices.html" class="nav-link" data-i18n="database_security.navigation.best_practices" data-i18n-html>Security Best Practices ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">&copy; 2024 SysManage. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/navbar.js"></script>
    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/i18n.js"></script>
</body>
</html>