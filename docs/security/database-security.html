<!DOCTYPE html>
<html lang="en" data-i18n-title="database_security.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="database_security.title">Database Security - SysManage</title>
    <meta name="description" content="Comprehensive database security documentation for SysManage including UUID-based primary keys, secure installation, and database hardening." data-i18n-attr="content" data-i18n="database_security.description">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="../../assets/images/favicon.svg">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <a href="../../">
                        <img src="../../assets/images/sysmanage-logo.svg" alt="SysManage" class="logo">
                    </a>
                </div>
                <div class="nav-menu">
                    <a href="../../#features" class="nav-link" data-i18n="nav.features">Features</a>
                    <a href="../../#getting-started" class="nav-link" data-i18n="nav.getting_started">Getting Started</a>
                    <a href="../" class="nav-link active" data-i18n="nav.documentation">Documentation</a>
                    <a href="https://github.com/bceverly/sysmanage" class="nav-link" target="_blank" data-i18n="nav.github">GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="docs-main">
        <div class="container">
            <div class="docs-breadcrumb">
                <a href="../" data-i18n="nav.documentation">Documentation</a> > <a href="./" data-i18n="security_docs.section_title">Security</a> > <span data-i18n="database_security.breadcrumb">Database Security</span>
            </div>

            <div class="docs-header">
                <h1 data-i18n="database_security.header.title">Database Security</h1>
                <p data-i18n="database_security.header.subtitle">Advanced database security features including UUID-based primary keys, secure installation procedures, and database hardening techniques.</p>
            </div>

            <div class="docs-content">
                <section class="docs-section">
                    <h2 data-i18n="database_security.uuid_architecture.title">UUID-Based Primary Key Architecture</h2>
                    <p data-i18n="database_security.uuid_architecture.description">SysManage implements UUID-based primary keys across all database tables instead of traditional sequential integer IDs. This architectural decision provides significant security advantages and prevents common attack vectors.</p>

                    <div class="security-benefits">
                        <h3 data-i18n="database_security.uuid_architecture.benefits.title">Security Benefits</h3>
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.enumeration.title">üõ°Ô∏è ID Enumeration Attack Prevention</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.enumeration.description">Sequential IDs (1, 2, 3...) allow attackers to easily enumerate resources. UUIDs eliminate this vulnerability by using non-predictable identifiers.</p>
                                <div class="example">
                                    <h5 data-i18n="database_security.examples.vulnerable">‚ùå Vulnerable (Sequential):</h5>
                                    <code>GET /api/hosts/1, /api/hosts/2, /api/hosts/3...</code>
                                    <h5 data-i18n="database_security.examples.secure">‚úÖ Secure (UUID):</h5>
                                    <code>GET /api/hosts/a1b2c3d4-e5f6-7890-abcd-ef1234567890</code>
                                </div>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.replay.title">üîÑ Replay Attack Protection</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.replay.description">Non-sequential identifiers prevent attackers from predicting valid resource IDs for replay attacks or automated scanning.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.information_leakage.title">üîí Information Leakage Prevention</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.information_leakage.description">Sequential IDs can reveal business metrics (number of users, hosts, etc.). UUIDs prevent this information disclosure.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.privacy.title">üïµÔ∏è Enhanced Privacy Protection</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.privacy.description">UUIDs provide non-correlatable identifiers that enhance user privacy and prevent cross-system tracking.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.gdpr.title">üìã GDPR Compliance Support</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.gdpr.description">UUIDs support data anonymization requirements by providing identifiers that cannot be easily correlated across systems.</p>
                            </div>

                            <div class="benefit-item">
                                <h4 data-i18n="database_security.uuid_architecture.benefits.distributed.title">üåê Distributed System Security</h4>
                                <p data-i18n="database_security.uuid_architecture.benefits.distributed.description">UUIDs are globally unique, preventing ID conflicts in distributed systems and reducing attack surface in multi-tenant environments.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.secure_installation.title">Secure Installation Script</h2>
                    <p data-i18n="database_security.secure_installation.description">SysManage includes a mandatory secure installation script that must be run on new installations to establish proper security foundations.</p>

                    <div class="installation-security">
                        <h3 data-i18n="database_security.secure_installation.script_location.title">Script Location</h3>
                        <pre><code data-i18n="database_security.secure_installation.script_location.path">scripts/sysmanage_secure_installation</code></pre>

                        <h3 data-i18n="database_security.secure_installation.features.title">Security Features Implemented</h3>
                        <div class="features-list">
                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.admin_user.title">üë§ Initial Admin User Creation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.secure_password">Prompts for secure administrator password</li>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.password_validation">Enforces password complexity requirements</li>
                                    <li data-i18n="database_security.secure_installation.features.admin_user.no_defaults">Prevents use of default or example credentials</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.jwt_security.title">üîê JWT Security Token Generation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.unique_secret">Generates cryptographically secure unique JWT secret</li>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.entropy">Uses high-entropy random data for token generation</li>
                                    <li data-i18n="database_security.secure_installation.features.jwt_security.prevents_reuse">Prevents credential reuse across installations</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.password_salt.title">üßÇ Password Salt Generation</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.unique_salt">Creates unique password salt for each installation</li>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.rainbow_protection">Prevents rainbow table attacks</li>
                                    <li data-i18n="database_security.secure_installation.features.password_salt.secure_hashing">Enhances password hashing security</li>
                                </ul>
                            </div>

                            <div class="feature-item">
                                <h4 data-i18n="database_security.secure_installation.features.config_hardening.title">‚öôÔ∏è Configuration File Hardening</h4>
                                <ul>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.file_permissions">Sets restrictive file permissions (600)</li>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.ownership">Ensures proper file ownership</li>
                                    <li data-i18n="database_security.secure_installation.features.config_hardening.validation">Validates configuration security settings</li>
                                </ul>
                            </div>
                        </div>

                        <div class="security-warning">
                            <h3 data-i18n="database_security.secure_installation.requirements.title">‚ö†Ô∏è Security Requirements</h3>
                            <ul>
                                <li><strong data-i18n="database_security.secure_installation.requirements.mandatory">Mandatory execution:</strong> <span data-i18n="database_security.secure_installation.requirements.mandatory_desc">The script MUST be run before first use</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.run_once">Run once only:</strong> <span data-i18n="database_security.secure_installation.requirements.run_once_desc">Execute only once per installation</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.backup">Configuration backup:</strong> <span data-i18n="database_security.secure_installation.requirements.backup_desc">Backup configuration file after script execution</span></li>
                                <li><strong data-i18n="database_security.secure_installation.requirements.no_defaults">No default credentials:</strong> <span data-i18n="database_security.secure_installation.requirements.no_defaults_desc">System will not function with default security tokens</span></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.implementation.title">Implementation Details</h2>

                    <div class="implementation-details">
                        <h3 data-i18n="database_security.implementation.database_schema.title">Database Schema Design</h3>
                        <p data-i18n="database_security.implementation.database_schema.description">All primary keys in SysManage use UUID version 4 (random) for maximum security:</p>

                        <div class="code-example">
                            <h4 data-i18n="database_security.implementation.database_schema.example_title">Example Table Definitions:</h4>
                            <pre><code>-- Users table with UUID primary key
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Hosts table with UUID primary key and foreign key
CREATE TABLE hosts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    hostname VARCHAR(255) NOT NULL,
    owner_id UUID REFERENCES users(id),
    approved_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>
                        </div>

                        <h3 data-i18n="database_security.implementation.api_security.title">API Security Considerations</h3>
                        <div class="api-security">
                            <h4 data-i18n="database_security.implementation.api_security.validation.title">UUID Validation</h4>
                            <ul>
                                <li data-i18n="database_security.implementation.api_security.validation.format">All UUID inputs are validated for proper format</li>
                                <li data-i18n="database_security.implementation.api_security.validation.pydantic">Pydantic models enforce UUID typing</li>
                                <li data-i18n="database_security.implementation.api_security.validation.rejection">Invalid UUIDs are immediately rejected</li>
                            </ul>

                            <h4 data-i18n="database_security.implementation.api_security.authorization.title">Authorization Checks</h4>
                            <ul>
                                <li data-i18n="database_security.implementation.api_security.authorization.resource_ownership">Resource ownership validated before UUID resolution</li>
                                <li data-i18n="database_security.implementation.api_security.authorization.rbac">Role-based access control applied to UUID-referenced resources</li>
                                <li data-i18n="database_security.implementation.api_security.authorization.no_enumeration">No information disclosure even for invalid UUIDs</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.best_practices.title">Database Security Best Practices</h2>

                    <div class="best-practices">
                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.production.title">üè≠ Production Deployment</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.production.encryption">Enable database encryption at rest</li>
                                <li data-i18n="database_security.best_practices.production.ssl">Use SSL/TLS for database connections</li>
                                <li data-i18n="database_security.best_practices.production.credentials">Store database credentials securely</li>
                                <li data-i18n="database_security.best_practices.production.network">Restrict database network access</li>
                                <li data-i18n="database_security.best_practices.production.monitoring">Implement database activity monitoring</li>
                            </ul>
                        </div>

                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.backup.title">üíæ Backup and Recovery</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.backup.encrypted">Use encrypted database backups</li>
                                <li data-i18n="database_security.best_practices.backup.secure_storage">Store backups in secure locations</li>
                                <li data-i18n="database_security.best_practices.backup.access_control">Implement backup access controls</li>
                                <li data-i18n="database_security.best_practices.backup.testing">Regularly test backup restoration</li>
                                <li data-i18n="database_security.best_practices.backup.retention">Follow data retention policies</li>
                            </ul>
                        </div>

                        <div class="practice-category">
                            <h3 data-i18n="database_security.best_practices.maintenance.title">üîß Maintenance and Updates</h3>
                            <ul>
                                <li data-i18n="database_security.best_practices.maintenance.patches">Apply security patches promptly</li>
                                <li data-i18n="database_security.best_practices.maintenance.migration_testing">Test database migrations in staging</li>
                                <li data-i18n="database_security.best_practices.maintenance.schema_review">Review schema changes for security implications</li>
                                <li data-i18n="database_security.best_practices.maintenance.audit_logs">Maintain comprehensive audit logs</li>
                                <li data-i18n="database_security.best_practices.maintenance.performance">Monitor database performance and security metrics</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section">
                    <h2 data-i18n="database_security.migration.title">Migration from Sequential IDs</h2>
                    <p data-i18n="database_security.migration.description">SysManage has been fully migrated from sequential integer IDs to UUIDs using a comprehensive migration strategy.</p>

                    <div class="migration-process">
                        <h3 data-i18n="database_security.migration.process.title">Migration Process</h3>
                        <div class="migration-steps">
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step1.title">Step 1: Schema Migration</h4>
                                <p data-i18n="database_security.migration.process.step1.description">Alembic migrations converted all primary keys and foreign keys from integers to UUIDs</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step2.title">Step 2: Data Migration</h4>
                                <p data-i18n="database_security.migration.process.step2.description">Existing data was migrated with new UUID identifiers while preserving relationships</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step3.title">Step 3: API Updates</h4>
                                <p data-i18n="database_security.migration.process.step3.description">All API endpoints updated to handle UUID parameters and responses</p>
                            </div>
                            <div class="step">
                                <h4 data-i18n="database_security.migration.process.step4.title">Step 4: Frontend Updates</h4>
                                <p data-i18n="database_security.migration.process.step4.description">Frontend components updated to work with UUID identifiers</p>
                            </div>
                        </div>

                        <div class="migration-benefits">
                            <h3 data-i18n="database_security.migration.benefits.title">Post-Migration Security Benefits</h3>
                            <ul>
                                <li data-i18n="database_security.migration.benefits.attack_surface">Dramatically reduced attack surface</li>
                                <li data-i18n="database_security.migration.benefits.enumeration">Eliminated ID enumeration vulnerabilities</li>
                                <li data-i18n="database_security.migration.benefits.information_disclosure">Prevented information disclosure through predictable IDs</li>
                                <li data-i18n="database_security.migration.benefits.compliance">Enhanced regulatory compliance posture</li>
                                <li data-i18n="database_security.migration.benefits.future_proof">Future-proofed against sequential ID-based attacks</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <div class="docs-navigation">
                    <div class="nav-links">
                        <a href="./" class="nav-link" data-i18n="database_security.navigation.security_docs">‚Üê Security Documentation</a>
                        <a href="best-practices.html" class="nav-link" data-i18n="database_security.navigation.best_practices">Security Best Practices ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">&copy; 2024 SysManage. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/i18n.js"></script>
</body>
</html>